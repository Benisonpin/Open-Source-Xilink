<!doctype lake><title>CAC hardware module</title><meta name="doc-version" content="1" /><meta name="typography" content="classic" /><meta name="viewport" content="fixed" /><meta name="paragraphSpacing" content="relax" /><card type="block" name="hr" value="data:%7B%22id%22%3A%22DSZkL%22%7D"></card><p data-lake-id="a1e29f83206094c0b0fb1d6a7a870f9d" id="a1e29f83206094c0b0fb1d6a7a870f9d" style="text-align: right"><br></p><p data-lake-id="e51d7fc6417258bdc91441b59a266bf3" id="e51d7fc6417258bdc91441b59a266bf3" style="text-align: right"><br></p><p data-lake-id="aa06fba73dab5dbe02eb57bd9cc1733b" id="aa06fba73dab5dbe02eb57bd9cc1733b" style="text-align: right"><br></p><p data-lake-id="ebf915bff9105df123fcfb9a100d6a66" id="ebf915bff9105df123fcfb9a100d6a66" style="text-align: right"><br></p><p data-lake-id="40488835e002ca7ac29827b7f08460ec" id="40488835e002ca7ac29827b7f08460ec" style="text-align: right"><br></p><p data-lake-id="9b96366085629acc40f0dce48ccbdd4c" id="9b96366085629acc40f0dce48ccbdd4c" style="text-align: right"><br></p><p data-lake-id="dd2e850071027779cac1f359f13aa0d2" id="dd2e850071027779cac1f359f13aa0d2"><br></p><p data-lake-id="1856b570c3f967356322c463e4852d84" id="1856b570c3f967356322c463e4852d84" style="text-align: right"><br></p><p data-lake-id="7903c6fbd4ce9e841eb4e4d2231c7127" id="7903c6fbd4ce9e841eb4e4d2231c7127" style="text-align: right"><br></p><p data-lake-id="5f97340f8c82e7894eb19752f070d0db" id="5f97340f8c82e7894eb19752f070d0db" style="text-align: right"><br></p><p data-lake-id="cfecafdcd98d763136e6ee7112ee4811" id="cfecafdcd98d763136e6ee7112ee4811" style="text-align: right"><br></p><p data-lake-id="a3032e2627f9802beb64a4f750f4ad5a" id="a3032e2627f9802beb64a4f750f4ad5a" style="text-align: right"><br></p><p data-lake-id="b70c0317c16663b883757280059d48c5" id="b70c0317c16663b883757280059d48c5" style="text-align: right"><br></p><p data-lake-id="1c5cd509d87c76fd7ddc65b77cf18e8a" id="1c5cd509d87c76fd7ddc65b77cf18e8a" style="text-align: right"><br></p><p data-lake-id="bb15c884b6af5ce8102b145511caddd3" id="bb15c884b6af5ce8102b145511caddd3" style="text-align: right"><br></p><p data-lake-id="ad0e75bdd36aa23f1e7fcfdff3c6e2ee" id="ad0e75bdd36aa23f1e7fcfdff3c6e2ee" style="text-align: right"><br></p><p data-lake-id="ecb2e8ef39259a79c968337d6647acdc" id="ecb2e8ef39259a79c968337d6647acdc" style="text-align: right"><br></p><p data-lake-id="bcb0175d9a728fa91e9a52834b31403e" id="bcb0175d9a728fa91e9a52834b31403e" style="text-align: right"><br></p><p data-lake-id="b2d005f81330413430380fdbfb2d33d0" id="b2d005f81330413430380fdbfb2d33d0" style="text-align: right"><br></p><p data-lake-id="e4a110e4f027c1ff5f0153c5cf416d06" id="e4a110e4f027c1ff5f0153c5cf416d06" style="text-align: right"><br></p><p data-lake-id="eba1bc47906f570ea2733f18a2ee2be3" id="eba1bc47906f570ea2733f18a2ee2be3" style="text-align: right"><br></p><p data-lake-id="a20d224c568e48b9d67847a2c66a8c01_p_0" id="a20d224c568e48b9d67847a2c66a8c01_p_0" style="text-align: right"><span data-lake-id="u18be31e4" id="u18be31e4">CTL Alibaba.</span></p><p data-lake-id="bcb1626542a177df9fccb56270e93c80" id="bcb1626542a177df9fccb56270e93c80" style="text-align: right"><span data-lake-id="u855cc410" id="u855cc410">Copyright 2022.</span></p><card type="block" name="hr" value="data:%7B%22id%22%3A%22y1qUD%22%7D"></card><h2 data-lake-id="0Nbix" id="0Nbix"><span data-lake-id="u852184fe" id="u852184fe">Revison History</span></h2><table data-lake-id="Z72pi" id="Z72pi" margin="true" class="lake-table" style="width: 747px"><colgroup><col width="86"><col width="117"><col width="206"><col width="338"></colgroup><tbody><tr data-lake-id="ua7ae32de" id="ua7ae32de" style="height: 33px"><td data-lake-id="u7a120cfc" id="u7a120cfc"><p data-lake-id="35443835a0b981f206d486563af9ac42" id="35443835a0b981f206d486563af9ac42"><strong><span data-lake-id="u23105e1e" id="u23105e1e">Revision</span></strong></p></td><td data-lake-id="udc4a3d24" id="udc4a3d24"><p data-lake-id="dac375baa6fd63515f2501b0a92b658c" id="dac375baa6fd63515f2501b0a92b658c"><strong><span data-lake-id="u6caee4b6" id="u6caee4b6">Date</span></strong></p></td><td data-lake-id="u8c3e6f25" id="u8c3e6f25"><p data-lake-id="e5787a1a493bfdb3904ac342b33b02ac" id="e5787a1a493bfdb3904ac342b33b02ac"><strong><span data-lake-id="u1d2fa2c2" id="u1d2fa2c2">Author</span></strong></p></td><td data-lake-id="ued5f3dde" id="ued5f3dde" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="uf0b0c6b6" id="uf0b0c6b6"><strong><span data-lake-id="u1882bb0b" id="u1882bb0b">Description</span></strong></p></td></tr><tr data-lake-id="u83ab540c" id="u83ab540c" style="height: 33px"><td data-lake-id="u50fb5a90" id="u50fb5a90"><p data-lake-id="344b3282d786523a3cb5188792353c73" id="344b3282d786523a3cb5188792353c73"><span data-lake-id="u95e14eaa" id="u95e14eaa">0.1</span></p></td><td data-lake-id="ub8888047" id="ub8888047"><p data-lake-id="9fba35daca6844213c52a08c38a87a54" id="9fba35daca6844213c52a08c38a87a54"><span data-lake-id="uae056506" id="uae056506">2022.8.22</span></p></td><td data-lake-id="u25b982ff" id="u25b982ff"><p data-lake-id="36c9c4c1467417aff99f7a88a9e24941" id="36c9c4c1467417aff99f7a88a9e24941"><span data-lake-id="u1619f845" id="u1619f845">Wanwei Xiao</span></p></td><td data-lake-id="u03e8134a" id="u03e8134a" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u7cd49eaf" id="u7cd49eaf"><span data-lake-id="ua8874492" id="ua8874492">Initial draft</span></p></td></tr><tr data-lake-id="uf326c842" id="uf326c842" style="height: 33px"><td data-lake-id="ud2f7e742" id="ud2f7e742"><p data-lake-id="363e2e94481d549010f91775fe43a1c3" id="363e2e94481d549010f91775fe43a1c3"><br></p></td><td data-lake-id="u248591ca" id="u248591ca"><p data-lake-id="0a6c0159e5e184f940dcf6b05aa06057" id="0a6c0159e5e184f940dcf6b05aa06057"><br></p></td><td data-lake-id="u78d64027" id="u78d64027"><p data-lake-id="58c5018077790947ef8472e6eec7da56" id="58c5018077790947ef8472e6eec7da56"><br></p></td><td data-lake-id="u73c2618b" id="u73c2618b" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="e53eeb238eb1377ed5aca1f701fe9f72" id="e53eeb238eb1377ed5aca1f701fe9f72"><br></p></td></tr><tr data-lake-id="ub049ec47" id="ub049ec47" style="height: 33px"><td data-lake-id="u549761ae" id="u549761ae" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="a2f6ed64083b84ee17b1c31698a2e8a7" id="a2f6ed64083b84ee17b1c31698a2e8a7"><br></p></td><td data-lake-id="uf61cd5c4" id="uf61cd5c4" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="996e9a8d180c9f152d446fca886cfae1" id="996e9a8d180c9f152d446fca886cfae1"><br></p></td><td data-lake-id="u6e62c98d" id="u6e62c98d" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="9306a5dd69dfa2cf85fb4c3785ea8bfe" id="9306a5dd69dfa2cf85fb4c3785ea8bfe"><br></p></td><td data-lake-id="ubfa8cc02" id="ubfa8cc02" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="b74f87ba45f3af0cfc9d693a0eca34b1" id="b74f87ba45f3af0cfc9d693a0eca34b1"><br></p></td></tr></tbody></table><p data-lake-id="d17f4f1c2d1ac680511e05e11e66eb84" id="d17f4f1c2d1ac680511e05e11e66eb84"><br></p><p data-lake-id="555b5650cdd3cfd813d0c04929762430" id="555b5650cdd3cfd813d0c04929762430"><br></p><p data-lake-id="c0ce8d460e6639c0b7a7a2560a3c3bc7" id="c0ce8d460e6639c0b7a7a2560a3c3bc7"><br></p><p data-lake-id="d7cd28448551757bee2789bd90558407" id="d7cd28448551757bee2789bd90558407"><br></p><p data-lake-id="1ef382c6b7cfb652110ea57cb3390672" id="1ef382c6b7cfb652110ea57cb3390672"><br></p><p data-lake-id="85ae21537af77584b2ad49dc2609a222" id="85ae21537af77584b2ad49dc2609a222"><br></p><p data-lake-id="c3ca6419b0cfb8fc408508219109231f" id="c3ca6419b0cfb8fc408508219109231f"><br></p><p data-lake-id="84cc3f6cc429e575b3ea124c9e2225f2" id="84cc3f6cc429e575b3ea124c9e2225f2"><br></p><p data-lake-id="052cfffeadd78bb7ff748b0857be8040" id="052cfffeadd78bb7ff748b0857be8040"><br></p><p data-lake-id="ed9f89be5418493062d06a5bc780c477" id="ed9f89be5418493062d06a5bc780c477"><br></p><p data-lake-id="d655c104d7b17a755ca4fc5a1cab5749" id="d655c104d7b17a755ca4fc5a1cab5749"><br></p><p data-lake-id="87f15c3ceb6fa4bac84fb215f589cde8" id="87f15c3ceb6fa4bac84fb215f589cde8"><br></p><p data-lake-id="d8b9701881b0a81583fc494647c4f024" id="d8b9701881b0a81583fc494647c4f024"><br></p><p data-lake-id="a2768e68e87b24c8c015a76d1e860920" id="a2768e68e87b24c8c015a76d1e860920"><br></p><card type="block" name="hr" value="data:%7B%22id%22%3A%22nCxMR%22%7D"></card><h2 data-lake-id="mScmc" id="mScmc"><span data-lake-id="u1454571f" id="u1454571f">1. Introduction</span></h2><h3 data-lake-id="AhcDY" id="AhcDY"><span data-lake-id="u1906a995" id="u1906a995">1.1 Request &amp; Purpose</span></h3><p data-lake-id="5e77fffdefe3d62e06a68762e9612d8a" id="5e77fffdefe3d62e06a68762e9612d8a" style="padding-left: 2em"><span data-lake-id="u6658f4ed" id="u6658f4ed">This document presents  chromatic aberration correction algorithm and specification in CTL ISP pipeline architecture. It defines the features with high-level diagram and modules design. The team members can follow this document to do detailed design and implementation.</span></p><p data-lake-id="df30b503fa9532249add80eee12e67b4" id="df30b503fa9532249add80eee12e67b4" style="padding-left: 2em"><br></p><p data-lake-id="f8b5196d095cec88b26c55d1bed00583" id="f8b5196d095cec88b26c55d1bed00583"><br></p><h3 data-lake-id="2UwMC" id="2UwMC"><span data-lake-id="u0cab1058" id="u0cab1058">1.2 Definitions &amp; Abbreviations </span></h3><table data-lake-id="2byB5" id="2byB5" margin="true" class="lake-table" style="width: 731px"><colgroup><col width="108"><col width="623"></colgroup><tbody><tr data-lake-id="u90a93752" id="u90a93752" style="height: 33px"><td data-lake-id="ubb24147f" id="ubb24147f"><p data-lake-id="4b83e68ae2a93a93003690e9cd624222" id="4b83e68ae2a93a93003690e9cd624222"><strong><span data-lake-id="uf2b69aec" id="uf2b69aec">Name</span></strong></p></td><td data-lake-id="u73fe5149" id="u73fe5149"><p data-lake-id="9313dfc7e8ba6b43b47e057aa8d08b7a_p_0" id="9313dfc7e8ba6b43b47e057aa8d08b7a_p_0"><strong><span data-lake-id="u07d8b102" id="u07d8b102">Description</span></strong></p></td></tr><tr data-lake-id="uf46a01a6" id="uf46a01a6" style="height: 33px"><td data-lake-id="u511ebb0b" id="u511ebb0b"><p data-lake-id="uc57c8920" id="uc57c8920"><span data-lake-id="u436b85fb" id="u436b85fb">CAC</span></p></td><td data-lake-id="ubf810eeb" id="ubf810eeb"><p data-lake-id="55ec3e7122b516943187ff5bb4b19a20" id="55ec3e7122b516943187ff5bb4b19a20"><span data-lake-id="u90d1b6ec" id="u90d1b6ec">chromatic aberration correction</span></p></td></tr><tr data-lake-id="u2497673f" id="u2497673f" style="height: 33px"><td data-lake-id="u73e23d2f" id="u73e23d2f" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="3b46c242a413d01f671212cfe0e7288d" id="3b46c242a413d01f671212cfe0e7288d"><span data-lake-id="u2c81ac8f" id="u2c81ac8f">​</span><br></p></td><td data-lake-id="u8549e119" id="u8549e119" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="b8e48e77256536d4b25e66411755efee" id="b8e48e77256536d4b25e66411755efee"><br></p></td></tr><tr data-lake-id="uc1f4b6d0" id="uc1f4b6d0" style="height: 33px"><td data-lake-id="u6afbe9e2" id="u6afbe9e2" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="f15f95cd3e29c987969572313555866d" id="f15f95cd3e29c987969572313555866d"><br></p></td><td data-lake-id="uecad0917" id="uecad0917" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ece38edbb38eea0ac546f5f648180372" id="ece38edbb38eea0ac546f5f648180372"><br></p></td></tr><tr data-lake-id="u2371f602" id="u2371f602" style="height: 33px"><td data-lake-id="ua2c12257" id="ua2c12257" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="4a4aafae3de480ba1e9c1f945123aa06" id="4a4aafae3de480ba1e9c1f945123aa06"><br></p></td><td data-lake-id="u9d9cf7bd" id="u9d9cf7bd" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="964677c87c05dd5473c4561fd22ea64e" id="964677c87c05dd5473c4561fd22ea64e"><br></p></td></tr><tr data-lake-id="uc1f32d68" id="uc1f32d68" style="height: 33px"><td data-lake-id="u23c14688" id="u23c14688" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="3447860e62da6a779f70a0ba8652c937" id="3447860e62da6a779f70a0ba8652c937"><br></p></td><td data-lake-id="u0fecbe39" id="u0fecbe39" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="b1b6a3338f89df24151e80c1a02f59d3" id="b1b6a3338f89df24151e80c1a02f59d3"><br></p></td></tr></tbody></table><p data-lake-id="e1478941cccf395f9dd01dca8f9f9f55" id="e1478941cccf395f9dd01dca8f9f9f55"><br></p><h3 data-lake-id="3WYl0" id="3WYl0"><span data-lake-id="u8a3b1079" id="u8a3b1079">1.3 Reference</span></h3><p data-lake-id="b5684b97e885e119ce3044ae3071ff79" id="b5684b97e885e119ce3044ae3071ff79"><span data-lake-id="u7666c86d" id="u7666c86d">[1] </span></p><p data-lake-id="81e02e0f108c03d2f72b2cdfeaa87cd3" id="81e02e0f108c03d2f72b2cdfeaa87cd3"><br></p><p data-lake-id="61bd1aff007615efd884e4caa9166e45" id="61bd1aff007615efd884e4caa9166e45"><br></p><p data-lake-id="f37957139324a95ebcfc99b6c700383c" id="f37957139324a95ebcfc99b6c700383c"><br></p><p data-lake-id="482d03f97ddb6631fce308ad1384e53d" id="482d03f97ddb6631fce308ad1384e53d"><br></p><p data-lake-id="a8943cb7b9688643afabb06681b12e41" id="a8943cb7b9688643afabb06681b12e41"><br></p><p data-lake-id="72e0e9ebe9f2e28e6660913968f70460" id="72e0e9ebe9f2e28e6660913968f70460"><br></p><p data-lake-id="2f248e8bc964cefa97a79eff713c7da6" id="2f248e8bc964cefa97a79eff713c7da6"><br></p><p data-lake-id="dddd1b983509b8ab6e81daa29964488b" id="dddd1b983509b8ab6e81daa29964488b"><br></p><p data-lake-id="3899c0917ca35c67d92576b6504a6404" id="3899c0917ca35c67d92576b6504a6404"><br></p><p data-lake-id="50ae78d0fb06c717afcbc7860ceccbf9" id="50ae78d0fb06c717afcbc7860ceccbf9"><br></p><p data-lake-id="fa8d3c0f2dbadc7b657ed703310dc24b" id="fa8d3c0f2dbadc7b657ed703310dc24b"><br></p><p data-lake-id="0c22438ecdf090d5b7a8304ae91ed8cd" id="0c22438ecdf090d5b7a8304ae91ed8cd"><br></p><p data-lake-id="0073afab3fd173e8e1e555bd148f5b93" id="0073afab3fd173e8e1e555bd148f5b93"><br></p><card type="block" name="hr" value="data:%7B%22id%22%3A%22XyW5k%22%7D"></card><p data-lake-id="3c22f46353ec031a31dc4c7a4c861321" id="3c22f46353ec031a31dc4c7a4c861321"><br></p><h2 data-lake-id="lw2Zq" id="lw2Zq"><span data-lake-id="uf70bb78e" id="uf70bb78e">2. Overview</span></h2><p data-lake-id="3e957c0ceb4b2e54ceb23ef4803510f9" id="3e957c0ceb4b2e54ceb23ef4803510f9" style="text-indent: 2em"><span data-lake-id="u2582a16f" id="u2582a16f">The CAC module is used to eliminate chromatic aberrations in the image generated by the lens, generally including horizontal and axial chromatic aberrations, as well as the purple fringing phenomenon of some images</span></p><p data-lake-id="u1e5f7cfe" id="u1e5f7cfe" style="text-indent: 2em; text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fpng%2F46456405%2F1661151439947-0a1190ba-3563-46c6-93ac-0c6aef545e12.png%22%2C%22taskId%22%3A%22uae308cf9-384e-4e92-9859-5b8656891d3%22%2C%22clientId%22%3A%22ufdef7e7d-4966-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A373%2C%22height%22%3A176%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A346724%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A752%2C%22originHeight%22%3A354%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E4%BA%94%E7%99%BE%E5%B0%BC%E5%8F%B700%20HLO%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A393.94922%2C%22y%22%3A20.695597%2C%22width%22%3A91.26333%2C%22height%22%3A311.603503%2C%22text%22%3A%22%E4%BA%94%E7%99%BE%E5%B0%BC%E5%8F%B700%22%7D%2C%7B%22x%22%3A2.3450115%2C%22y%22%3A180.14171%2C%22width%22%3A30.625924500000004%2C%22height%22%3A82.01964000000004%2C%22text%22%3A%22HLO%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u653122c8%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u2aa3b7e7" id="u2aa3b7e7" style="text-indent: 2em; text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fpng%2F46456405%2F1661151731102-1a0aef96-a126-4039-bea4-c4f761f56fda.png%22%2C%22taskId%22%3A%22ueba29793-1933-4d0b-b67b-8cd270b6c12%22%2C%22clientId%22%3A%22ufdef7e7d-4966-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A546%2C%22height%22%3A148%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A276731%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1738%2C%22originHeight%22%3A470%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22ocrLocations%22%3A%5B%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u4a417fc0%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="3d5b6e3967749129ddd9ff7091c6b2c9" id="3d5b6e3967749129ddd9ff7091c6b2c9" style="text-indent: 2em; text-align: center"><span data-lake-id="ue70e38f5" id="ue70e38f5" class="lake-fontsize-12">Figure 2-1 Function of cac module[2]</span></p><h3 data-lake-id="4bO3I" id="4bO3I"><span data-lake-id="u5411d9eb" id="u5411d9eb">2.1 CAC Location</span></h3><p data-lake-id="9c53822532a69a262dcaacfa77a515df" id="9c53822532a69a262dcaacfa77a515df"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fjpeg%2F46456405%2F1661154947741-b8bec889-06e9-4937-a5ba-8166ab0c084d.jpeg%22%2C%22taskId%22%3A%22ud42629af-62ff-4325-a47f-789491b9a88%22%2C%22clientId%22%3A%22u4b9b25ae-9a29-4%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22pipeline.jpg%22%2C%22size%22%3A67849%2C%22from%22%3A%22ui%22%2C%22originWidth%22%3A1021%2C%22originHeight%22%3A601%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%2212BIT%2012BIT%2012BIT%2012BIT%2012BIT%2012BIT%2012BIT%20GB%20DPC%20BLC%26DG%20WBC%20RAW%20DMC%20LSC%20RAWDNS%20RAW%20WB%20STATISTIC%2012BIT%2014BIT%2012BIT%2014BIT%2014BIT%20GTM%20LTM%20EE%20CCM%20CAC%20RGB%20HISTOGRAM%2014BIT%20STATISTIC%2010BIT%2010BIT%2010BIT%2010BIT%2010BIT%2010BIT%20OUTPUT%20CSC%20YDNS%20UVDNS%20YFC%20SCALER%20CROP%20YUV%20YUV%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A783.4452%2C%22y%22%3A58.698025%2C%22width%22%3A28.85450000000003%2C%22height%22%3A12.844915%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A323.55743%2C%22y%22%3A58.87791%2C%22width%22%3A28.34307000000001%2C%22height%22%3A12.420940000000002%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A555.99115%2C%22y%22%3A58.926773%2C%22width%22%3A28.32445000000007%2C%22height%22%3A12.564157000000009%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A673.13513%2C%22y%22%3A58.703667%2C%22width%22%3A28.66474000000005%2C%22height%22%3A12.935392999999998%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A436.7258%2C%22y%22%3A59.746433%2C%22width%22%3A28.190339999999992%2C%22height%22%3A11.322776999999995%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A75.67475%2C%22y%22%3A59.961006%2C%22width%22%3A28.94726%2C%22height%22%3A10.751053999999996%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A206.5621%2C%22y%22%3A59.824257%2C%22width%22%3A28.218170000000015%2C%22height%22%3A11.560582999999994%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A732.75037%2C%22y%22%3A73.38437%2C%22width%22%3A19.591530000000034%2C%22height%22%3A12.649779999999993%2C%22text%22%3A%22GB%22%7D%2C%7B%22x%22%3A378.82675%2C%22y%22%3A73.934456%2C%22width%22%3A27.394900000000007%2C%22height%22%3A11.414764000000005%2C%22text%22%3A%22DPC%22%7D%2C%7B%22x%22%3A143.48877%2C%22y%22%3A74.00797%2C%22width%22%3A51.50753%2C%22height%22%3A12.135319999999993%2C%22text%22%3A%22BLC%26DG%22%7D%2C%7B%22x%22%3A614.5126%2C%22y%22%3A74.11464%2C%22width%22%3A29.92489999999998%2C%22height%22%3A11.755440000000007%2C%22text%22%3A%22WBC%22%7D%2C%7B%22x%22%3A34.96355%2C%22y%22%3A74.164085%2C%22width%22%3A29.652510000000007%2C%22height%22%3A11.226095%2C%22text%22%3A%22RAW%22%7D%2C%7B%22x%22%3A837.7271%2C%22y%22%3A74.247055%2C%22width%22%3A29.41300000000001%2C%22height%22%3A11.391700999999998%2C%22text%22%3A%22DMC%22%7D%2C%7B%22x%22%3A266.95273%2C%22y%22%3A74.182045%2C%22width%22%3A25.73825000000005%2C%22height%22%3A12.127158999999992%2C%22text%22%3A%22LSC%22%7D%2C%7B%22x%22%3A483.23828%2C%22y%22%3A74.18549%2C%22width%22%3A53.80219000000005%2C%22height%22%3A12.162880000000001%2C%22text%22%3A%22RAWDNS%22%7D%2C%7B%22x%22%3A125.09257%2C%22y%22%3A118.93709%2C%22width%22%3A29.67240000000001%2C%22height%22%3A11.883619999999993%2C%22text%22%3A%22RAW%22%7D%2C%7B%22x%22%3A556.23694%2C%22y%22%3A166.72275%2C%22width%22%3A23.79096000000004%2C%22height%22%3A11.454660000000018%2C%22text%22%3A%22WB%22%7D%2C%7B%22x%22%3A550.222%2C%22y%22%3A181.79977%2C%22width%22%3A39.65989999999999%2C%22height%22%3A10.80695%2C%22text%22%3A%22STATISTIC%22%7D%2C%7B%22x%22%3A887.11926%2C%22y%22%3A189.2212%2C%22width%22%3A27.125%2C%22height%22%3A12.935399999999987%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A245.13727%2C%22y%22%3A268.99603%2C%22width%22%3A29.759230000000002%2C%22height%22%3A12.36266999999998%2C%22text%22%3A%2214BIT%22%7D%2C%7B%22x%22%3A766.2187%2C%22y%22%3A269.34937%2C%22width%22%3A28.499500000000012%2C%22height%22%3A12.194879999999955%2C%22text%22%3A%2212BIT%22%7D%2C%7B%22x%22%3A595.76605%2C%22y%22%3A269.24805%2C%22width%22%3A28.976350000000025%2C%22height%22%3A12.01681000000002%2C%22text%22%3A%2214BIT%22%7D%2C%7B%22x%22%3A416.32858%2C%22y%22%3A269.68057%2C%22width%22%3A28.576270000000022%2C%22height%22%3A11.593870000000038%2C%22text%22%3A%2214BIT%22%7D%2C%7B%22x%22%3A324.92352%2C%22y%22%3A288.73203%2C%22width%22%3A29.401130000000023%2C%22height%22%3A12.057669999999973%2C%22text%22%3A%22GTM%22%7D%2C%7B%22x%22%3A496.42404%2C%22y%22%3A288.88333%2C%22width%22%3A25.024200000000064%2C%22height%22%3A12.377409999999998%2C%22text%22%3A%22LTM%22%7D%2C%7B%22x%22%3A839.9115%2C%22y%22%3A288.9923%2C%22width%22%3A17.731499999999983%2C%22height%22%3A12.00342999999998%2C%22text%22%3A%22EE%22%7D%2C%7B%22x%22%3A675.4962%2C%22y%22%3A289.44952%2C%22width%22%3A28.44184999999993%2C%22height%22%3A11.27528000000001%2C%22text%22%3A%22CCM%22%7D%2C%7B%22x%22%3A156.42621%2C%22y%22%3A288.93814%2C%22width%22%3A26.57132999999999%2C%22height%22%3A12.575990000000047%2C%22text%22%3A%22CAC%22%7D%2C%7B%22x%22%3A125.34216%2C%22y%22%3A328.614%2C%22width%22%3A28.174229999999994%2C%22height%22%3A12.348680000000002%2C%22text%22%3A%22RGB%22%7D%2C%7B%22x%22%3A582.8044%2C%22y%22%3A397.9256%2C%22width%22%3A53.86019999999996%2C%22height%22%3A12.144350000000031%2C%22text%22%3A%22HISTOGRAM%22%7D%2C%7B%22x%22%3A93.66062%2C%22y%22%3A398.69724%2C%22width%22%3A27.765146%2C%22height%22%3A12.325130000000001%2C%22text%22%3A%2214BIT%22%7D%2C%7B%22x%22%3A588.5565%2C%22y%22%3A411.9908%2C%22width%22%3A43.634000000000015%2C%22height%22%3A11.443340000000035%2C%22text%22%3A%22STATISTIC%22%7D%2C%7B%22x%22%3A213.43506%2C%22y%22%3A498.70874%2C%22width%22%3A28.723460000000017%2C%22height%22%3A12.972990000000038%2C%22text%22%3A%2210BIT%22%7D%2C%7B%22x%22%3A495.5147%2C%22y%22%3A499.2387%2C%22width%22%3A29.788160000000005%2C%22height%22%3A12.644900000000007%2C%22text%22%3A%2210BIT%22%7D%2C%7B%22x%22%3A642.88385%2C%22y%22%3A498.82193%2C%22width%22%3A28.864009999999894%2C%22height%22%3A13.234219999999993%2C%22text%22%3A%2210BIT%22%7D%2C%7B%22x%22%3A904.9221%2C%22y%22%3A498.9306%2C%22width%22%3A29.815600000000018%2C%22height%22%3A12.66677999999996%2C%22text%22%3A%2210BIT%22%7D%2C%7B%22x%22%3A763.9322%2C%22y%22%3A499.433%2C%22width%22%3A28.707200000000057%2C%22height%22%3A11.956000000000017%2C%22text%22%3A%2210BIT%22%7D%2C%7B%22x%22%3A356.10416%2C%22y%22%3A499.6374%2C%22width%22%3A29.263840000000016%2C%22height%22%3A11.994829999999979%2C%22text%22%3A%2210BIT%22%7D%2C%7B%22x%22%3A952.8907%2C%22y%22%3A503.39462%2C%22width%22%3A35.53464999999994%2C%22height%22%3A11.614050000000077%2C%22text%22%3A%22OUTPUT%22%7D%2C%7B%22x%22%3A148.04726%2C%22y%22%3A512.867%2C%22width%22%3A28.527770000000004%2C%22height%22%3A13.570440000000076%2C%22text%22%3A%22CSC%22%7D%2C%7B%22x%22%3A422.14435%2C%22y%22%3A513.5373%2C%22width%22%3A34.86805000000004%2C%22height%22%3A12.686329999999998%2C%22text%22%3A%22YDNS%22%7D%2C%7B%22x%22%3A566.525%2C%22y%22%3A513.264%2C%22width%22%3A43.80560000000003%2C%22height%22%3A13.074100000000044%2C%22text%22%3A%22UVDNS%22%7D%2C%7B%22x%22%3A289.97855%2C%22y%22%3A514.3478%2C%22width%22%3A25.21208999999999%2C%22height%22%3A11.328039999999987%2C%22text%22%3A%22YFC%22%7D%2C%7B%22x%22%3A700.1407%2C%22y%22%3A514.51306%2C%22width%22%3A34.813499999999976%2C%22height%22%3A11.948139999999967%2C%22text%22%3A%22SCALER%22%7D%2C%7B%22x%22%3A828.4429%2C%22y%22%3A514.52966%2C%22width%22%3A27.631700000000023%2C%22height%22%3A12.883939999999939%2C%22text%22%3A%22CROP%22%7D%2C%7B%22x%22%3A955.9889%2C%22y%22%3A516.50134%2C%22width%22%3A29.23034000000007%2C%22height%22%3A11.656259999999975%2C%22text%22%3A%22YUV%22%7D%2C%7B%22x%22%3A126.49211%2C%22y%22%3A558.76227%2C%22width%22%3A27.688199999999995%2C%22height%22%3A12.363930000000096%2C%22text%22%3A%22YUV%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u3fcecb72%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="914430042cd80fff973d45ba919707b8" id="914430042cd80fff973d45ba919707b8"><span data-lake-id="u1de4f2dc" id="u1de4f2dc">                                                  Figure 2-2 CAC location in ISP pipeline</span></p><h3 data-lake-id="eaOYj" id="eaOYj"><span data-lake-id="ucd175cec" id="ucd175cec">2.2 CAC Register</span></h3><table data-lake-id="jz6fq" id="jz6fq" margin="true" class="lake-table" style="width: 835px"><colgroup><col width="195"><col width="93"><col width="95"><col width="120"><col width="82"><col width="250"></colgroup><tbody><tr data-lake-id="u842e2c85" id="u842e2c85" style="height: 33px"><td data-lake-id="u44561f01" id="u44561f01"><p data-lake-id="bf439a1fa8a957e7ed0ad24bad1d2a3e" id="bf439a1fa8a957e7ed0ad24bad1d2a3e" style="text-align: center"><strong><span data-lake-id="u590cbf1c" id="u590cbf1c">Name</span></strong></p></td><td data-lake-id="u2a75728f" id="u2a75728f"><p data-lake-id="17e9e73096088104459b01a9c9ea558a" id="17e9e73096088104459b01a9c9ea558a" style="text-align: center"><strong><span data-lake-id="u2d3e7ab4" id="u2d3e7ab4">Bits Width</span></strong></p></td><td data-lake-id="ub54a5957" id="ub54a5957"><p data-lake-id="f22f67bca7297658114b401177dfed68" id="f22f67bca7297658114b401177dfed68" style="text-align: center"><strong><span data-lake-id="u15e4ded9" id="u15e4ded9">Range</span></strong></p></td><td data-lake-id="u63fb2cdb" id="u63fb2cdb"><p data-lake-id="86dc4ee7b6999a9ce261c5ad913c78bc" id="86dc4ee7b6999a9ce261c5ad913c78bc" style="text-align: center"><strong><span data-lake-id="u2bcec00a" id="u2bcec00a">Default Value</span></strong></p></td><td data-lake-id="uc9ff034d" id="uc9ff034d"><p data-lake-id="3fc401634452bc55addd243c64bc08a5" id="3fc401634452bc55addd243c64bc08a5" style="text-align: center"><strong><span data-lake-id="u85e89197" id="u85e89197">Shadow</span></strong></p></td><td data-lake-id="u8222d3de" id="u8222d3de"><p data-lake-id="110a17c4772c0e89f7a96adf10a7e861" id="110a17c4772c0e89f7a96adf10a7e861" style="text-align: center"><strong><span data-lake-id="u41040845" id="u41040845">Description</span></strong></p></td></tr><tr data-lake-id="u2796c2be" id="u2796c2be" style="height: 33px"><td data-lake-id="u02509eb6" id="u02509eb6"><p data-lake-id="u86378cfa" id="u86378cfa"><span data-lake-id="u878f9974" id="u878f9974">eb</span></p></td><td data-lake-id="u1076383f" id="u1076383f"><p data-lake-id="u9fb31848" id="u9fb31848"><span data-lake-id="uaf9e0302" id="uaf9e0302">1</span></p></td><td data-lake-id="ud6677864" id="ud6677864"><p data-lake-id="ua93243f5" id="ua93243f5"><span data-lake-id="u60961a7e" id="u60961a7e">0 or 1</span></p></td><td data-lake-id="u5a2e6aec" id="u5a2e6aec"><p data-lake-id="u3b004e12" id="u3b004e12"><span data-lake-id="u7b3ec514" id="u7b3ec514">1</span></p></td><td data-lake-id="ud45956a5" id="ud45956a5"><p data-lake-id="u3bece36c" id="u3bece36c"><br></p></td><td data-lake-id="u67d08c66" id="u67d08c66"><p data-lake-id="u72465d30" id="u72465d30"><span data-lake-id="u67fd50e2" id="u67fd50e2">enable signal for CAC module</span></p></td></tr><tr data-lake-id="uc4c242ec" id="uc4c242ec" style="height: 33px"><td data-lake-id="u1faf3fa0" id="u1faf3fa0"><p data-lake-id="u0baa375a" id="u0baa375a"><span data-lake-id="u18c5abb0" id="u18c5abb0">t_transient</span></p></td><td data-lake-id="uf2364b06" id="uf2364b06"><p data-lake-id="ub99fe313" id="ub99fe313"><span data-lake-id="u779046bb" id="u779046bb">17</span></p></td><td data-lake-id="u2d827ddf" id="u2d827ddf"><p data-lake-id="u16f2d744" id="u16f2d744"><span data-lake-id="uc64df267" id="uc64df267">[-65536,65535]</span></p></td><td data-lake-id="u47bb9d7c" id="u47bb9d7c"><p data-lake-id="u87b73d9e" id="u87b73d9e"><span data-lake-id="uf41a0055" id="uf41a0055">7000</span></p></td><td data-lake-id="u8ad330fe" id="u8ad330fe"><p data-lake-id="u15798c0e" id="u15798c0e"><br></p></td><td data-lake-id="u7f7ff457" id="u7f7ff457"><p data-lake-id="ue7babdb9" id="ue7babdb9"><span data-lake-id="ubd18b934" id="ubd18b934">determination threshold for transient region</span></p></td></tr><tr data-lake-id="u53a3772d" id="u53a3772d" style="height: 33px"><td data-lake-id="uaad5e940" id="uaad5e940"><p data-lake-id="ud8ff6b87" id="ud8ff6b87"><span data-lake-id="u68970901" id="u68970901">t_edge</span></p></td><td data-lake-id="uc35d6762" id="uc35d6762"><p data-lake-id="uc3e32e76" id="uc3e32e76"><span data-lake-id="u709a1d1b" id="u709a1d1b">17</span></p></td><td data-lake-id="ue6d50329" id="ue6d50329"><p data-lake-id="u324c3564" id="u324c3564"><span data-lake-id="u9073dacb" id="u9073dacb">[-65536,65535]</span></p></td><td data-lake-id="u4d91e908" id="u4d91e908"><p data-lake-id="ue4dd7f91" id="ue4dd7f91"><span data-lake-id="udb2c675e" id="udb2c675e">4000</span></p></td><td data-lake-id="udb569ec0" id="udb569ec0"><p data-lake-id="uf40dfcf1" id="uf40dfcf1"><br></p></td><td data-lake-id="ubc198048" id="ubc198048"><p data-lake-id="u5436f1f5" id="u5436f1f5"><span data-lake-id="u87656e5e" id="u87656e5e">determination threshold for edges of transient region</span></p></td></tr><tr data-lake-id="u1158695c" id="u1158695c" style="height: 33px"><td data-lake-id="u5a443448" id="u5a443448"><p data-lake-id="u4c21ed62" id="u4c21ed62"><br></p></td><td data-lake-id="u4e3456e1" id="u4e3456e1"><p data-lake-id="u528c826a" id="u528c826a"><br></p></td><td data-lake-id="u0f874758" id="u0f874758"><p data-lake-id="u1730b3f4" id="u1730b3f4"><br></p></td><td data-lake-id="u411bc1c4" id="u411bc1c4"><p data-lake-id="u9ff2c70d" id="u9ff2c70d"><br></p></td><td data-lake-id="u02012042" id="u02012042"><p data-lake-id="u992af5c1" id="u992af5c1"><br></p></td><td data-lake-id="u60732de6" id="u60732de6"><p data-lake-id="u11046de4" id="u11046de4"><br></p></td></tr><tr data-lake-id="u33d4a6db" id="u33d4a6db" style="height: 33px"><td data-lake-id="uc668c054" id="uc668c054" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="uaece1cc0" id="uaece1cc0"><br></p></td><td data-lake-id="u38f54c77" id="u38f54c77" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u9888aaf2" id="u9888aaf2"><br></p></td><td data-lake-id="u9a10f1fa" id="u9a10f1fa" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ufc9baf8e" id="ufc9baf8e"><br></p></td><td data-lake-id="ua54fd426" id="ua54fd426" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u228844b4" id="u228844b4"><br></p></td><td data-lake-id="u90c2db16" id="u90c2db16" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u5fc4d2d2" id="u5fc4d2d2"><br></p></td><td data-lake-id="uad0d694f" id="uad0d694f" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u21857ec8" id="u21857ec8"><br></p></td></tr><tr data-lake-id="u042775ca" id="u042775ca" style="height: 33px"><td data-lake-id="ueaca5aa3" id="ueaca5aa3" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="9d381f927a7d60fed6deb70f6ea76e91" id="9d381f927a7d60fed6deb70f6ea76e91"><br></p></td><td data-lake-id="ud6610a91" id="ud6610a91" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="b59689fe10ba89d8fece53bed67d318c" id="b59689fe10ba89d8fece53bed67d318c"><br></p></td><td data-lake-id="u37a73310" id="u37a73310" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="f6cbf32cc1541ca7f5997f0159a601f6" id="f6cbf32cc1541ca7f5997f0159a601f6"><br></p></td><td data-lake-id="u817c6162" id="u817c6162" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="bdb90d60f67087719d1d63c550e229b7" id="bdb90d60f67087719d1d63c550e229b7"><br></p></td><td data-lake-id="u336e4950" id="u336e4950" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="528f1381ccc27dfd48a99e2058ea27a6" id="528f1381ccc27dfd48a99e2058ea27a6"><br></p></td><td data-lake-id="u246f517c" id="u246f517c" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ebfc7f97bd2ca54c93b655bd051b75c6" id="ebfc7f97bd2ca54c93b655bd051b75c6"><br></p></td></tr><tr data-lake-id="uef1496a3" id="uef1496a3" style="height: 33px"><td data-lake-id="u03016940" id="u03016940" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="c59bcfb72e553123bb705292b159924c" id="c59bcfb72e553123bb705292b159924c"><br></p></td><td data-lake-id="u9c015c2b" id="u9c015c2b" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="3b8e0a2b4d88253835a13fac4a5584a4" id="3b8e0a2b4d88253835a13fac4a5584a4"><br></p></td><td data-lake-id="udb995b93" id="udb995b93" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="1368f8d8a64ed3a9ffbab5a812c5eabc" id="1368f8d8a64ed3a9ffbab5a812c5eabc"><br></p></td><td data-lake-id="uc7965a25" id="uc7965a25" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="14e55e59ffb49bdb4db8c9c7f5ddbe1b" id="14e55e59ffb49bdb4db8c9c7f5ddbe1b"><br></p></td><td data-lake-id="u52256151" id="u52256151" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="a42ab15e090aeda6a120a1dd0425f6dd" id="a42ab15e090aeda6a120a1dd0425f6dd"><br></p></td><td data-lake-id="uc7279497" id="uc7279497" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="cbe5a57484963b4235210ae3b46baf59" id="cbe5a57484963b4235210ae3b46baf59"><br></p></td></tr><tr data-lake-id="ufc0c5556" id="ufc0c5556" style="height: 33px"><td data-lake-id="u1c843bc9" id="u1c843bc9" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="4fa60e367273abd84d64cf54b59d3097" id="4fa60e367273abd84d64cf54b59d3097"><br></p></td><td data-lake-id="uc6ef9441" id="uc6ef9441" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="52bc34a50e0272af582fd584db933e76" id="52bc34a50e0272af582fd584db933e76"><br></p></td><td data-lake-id="uda1b8975" id="uda1b8975" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="8f23eb3e35273b00afe8997637dd8c83" id="8f23eb3e35273b00afe8997637dd8c83"><br></p></td><td data-lake-id="u18744d7b" id="u18744d7b" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="a7a2e3695fdd4592c9509850965de7a2" id="a7a2e3695fdd4592c9509850965de7a2"><br></p></td><td data-lake-id="u282b1b7f" id="u282b1b7f" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="b1462a2ae33b9d308a7c0f3bf916d123" id="b1462a2ae33b9d308a7c0f3bf916d123"><br></p></td><td data-lake-id="u0ca2fb78" id="u0ca2fb78" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="f6484c835a7401a8d2b7149a7d2bf516" id="f6484c835a7401a8d2b7149a7d2bf516"><br></p></td></tr><tr data-lake-id="ucc2efcb0" id="ucc2efcb0" style="height: 33px"><td data-lake-id="ube6d1e30" id="ube6d1e30" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="02f8ef33000fae8ba3410bb03021abfc" id="02f8ef33000fae8ba3410bb03021abfc"><br></p></td><td data-lake-id="u72a8b8dc" id="u72a8b8dc" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="85453413f30cabebe5932747bb08a55b" id="85453413f30cabebe5932747bb08a55b"><br></p></td><td data-lake-id="ub2ef5b83" id="ub2ef5b83" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="6b955613aff5a1c5f1e76b760cc3b0d3" id="6b955613aff5a1c5f1e76b760cc3b0d3"><br></p></td><td data-lake-id="u00d83262" id="u00d83262" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="b03037b9ed4d4212f0ace1cc6302eed5" id="b03037b9ed4d4212f0ace1cc6302eed5"><br></p></td><td data-lake-id="u4295366d" id="u4295366d" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="5f8c1c1a511670a140a8b3aaaa8a8b75" id="5f8c1c1a511670a140a8b3aaaa8a8b75"><br></p></td><td data-lake-id="u3585b658" id="u3585b658" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="a4f41ed5937379f876420f27c9a563c4" id="a4f41ed5937379f876420f27c9a563c4"><br></p></td></tr></tbody></table><h3 data-lake-id="dfDsh" id="dfDsh"><span data-lake-id="u79efe6fd" id="u79efe6fd">2.3 Top-level function interfaces</span></h3><table data-lake-id="XQE7K" id="XQE7K" margin="true" class="lake-table" style="width: 744px"><colgroup><col width="195"><col width="84"><col width="465"></colgroup><tbody><tr data-lake-id="u03cef78a" id="u03cef78a" style="height: 33px"><td data-lake-id="u70467120" id="u70467120"><p data-lake-id="u129cc311" id="u129cc311" style="text-align: center"><strong><span data-lake-id="ua980f9ab" id="ua980f9ab">Name</span></strong></p></td><td data-lake-id="ub55f48e8" id="ub55f48e8"><p data-lake-id="ua15d1c5b" id="ua15d1c5b" style="text-align: center"><strong><span data-lake-id="u5e587182" id="u5e587182">Bits Width</span></strong></p></td><td data-lake-id="u31f51c23" id="u31f51c23"><p data-lake-id="uca2e8982" id="uca2e8982" style="text-align: center"><strong><span data-lake-id="u92a2c8bc" id="u92a2c8bc">Description</span></strong></p></td></tr><tr data-lake-id="uf1da1be3" id="uf1da1be3" style="height: 33px"><td data-lake-id="uf6ded63e" id="uf6ded63e"><p data-lake-id="uf7b986e4" id="uf7b986e4"><span data-lake-id="ub711910f" id="ub711910f">top_reg</span></p></td><td data-lake-id="u71e07796" id="u71e07796"><p data-lake-id="u4b8a775e" id="u4b8a775e"><span data-lake-id="u3ef8e24f" id="u3ef8e24f">/</span></p></td><td data-lake-id="uf81025ee" id="uf81025ee"><p data-lake-id="u902901e7" id="u902901e7"><span data-lake-id="u4f28339c" id="u4f28339c">ISP top_level parameters</span></p></td></tr><tr data-lake-id="u09632509" id="u09632509" style="height: 33px"><td data-lake-id="ub7272209" id="ub7272209"><p data-lake-id="u4f7bd924" id="u4f7bd924"><span data-lake-id="u38398f01" id="u38398f01">cac_reg</span></p></td><td data-lake-id="ub52beaec" id="ub52beaec"><p data-lake-id="u2ceb6e63" id="u2ceb6e63"><span data-lake-id="u40187282" id="u40187282">/</span></p></td><td data-lake-id="u8be05c36" id="u8be05c36"><p data-lake-id="u2111bbe9" id="u2111bbe9"><span data-lake-id="u02b31d19" id="u02b31d19">CAC module parameters</span></p></td></tr><tr data-lake-id="u85a86be2" id="u85a86be2" style="height: 33px"><td data-lake-id="uc808a76f" id="uc808a76f"><p data-lake-id="u1d8a0f55" id="u1d8a0f55"><span data-lake-id="u0a7d0841" id="u0a7d0841">src</span></p></td><td data-lake-id="u2e46871c" id="u2e46871c"><p data-lake-id="u3fd26c95" id="u3fd26c95"><span data-lake-id="u3021c1d6" id="u3021c1d6">42</span></p></td><td data-lake-id="u6b058c2c" id="u6b058c2c"><p data-lake-id="u729bdb31" id="u729bdb31"><span data-lake-id="u558eb5b7" id="u558eb5b7">the dataflow of input</span></p></td></tr><tr data-lake-id="ued1230a2" id="ued1230a2" style="height: 33px"><td data-lake-id="uc4c0b3ed" id="uc4c0b3ed"><p data-lake-id="ud71b46c0" id="ud71b46c0"><span data-lake-id="u7ab2dba6" id="u7ab2dba6">dst</span></p></td><td data-lake-id="ubd6350e1" id="ubd6350e1"><p data-lake-id="ua477b5c1" id="ua477b5c1"><span data-lake-id="u014e1a7a" id="u014e1a7a">42</span></p></td><td data-lake-id="u19623787" id="u19623787"><p data-lake-id="ubbba375b" id="ubbba375b"><span data-lake-id="u41c71205" id="u41c71205">the dataflow of output</span></p></td></tr><tr data-lake-id="u85de9da6" id="u85de9da6" style="height: 33px"><td data-lake-id="u39ce77f7" id="u39ce77f7" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u3b576808" id="u3b576808"><br></p></td><td data-lake-id="ud01a49eb" id="ud01a49eb" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="uee3d8147" id="uee3d8147" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u2cb301d8" id="u2cb301d8"><br></p></td></tr><tr data-lake-id="u60090747" id="u60090747" style="height: 33px"><td data-lake-id="ud734fb18" id="ud734fb18" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u0b6ca59b" id="u0b6ca59b"><br></p></td><td data-lake-id="u7a275eed" id="u7a275eed" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="u9280d7e5" id="u9280d7e5" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u82158c99" id="u82158c99"><br></p></td></tr><tr data-lake-id="u777a2312" id="u777a2312" style="height: 33px"><td data-lake-id="u20a84305" id="u20a84305" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ud8f00c8f" id="ud8f00c8f"><br></p></td><td data-lake-id="u12d53db2" id="u12d53db2" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="u860189d6" id="u860189d6" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ufdd342c8" id="ufdd342c8"><br></p></td></tr><tr data-lake-id="ubc7c1881" id="ubc7c1881" style="height: 33px"><td data-lake-id="u69f7faf7" id="u69f7faf7" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u56789482" id="u56789482"><br></p></td><td data-lake-id="u0bb13e7a" id="u0bb13e7a" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="uaa6eb288" id="uaa6eb288" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="uf4ecf05e" id="uf4ecf05e"><br></p></td></tr><tr data-lake-id="uf5d79c06" id="uf5d79c06" style="height: 33px"><td data-lake-id="u2a22438d" id="u2a22438d" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="uea8d8598" id="uea8d8598"><br></p></td><td data-lake-id="u0381af86" id="u0381af86" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="ue11c4ff1" id="ue11c4ff1" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u4d3b54b8" id="u4d3b54b8"><br></p></td></tr></tbody></table><card type="block" name="hr" value="data:%7B%22id%22%3A%22drM6c%22%7D"></card><h2 data-lake-id="RNC7f" id="RNC7f"><span data-lake-id="u2b3f454e" id="u2b3f454e">3. CAC Aglorithm&amp;Architecture</span></h2><p data-lake-id="18949664e443b2c055bc8cd4f63ba1a9" id="18949664e443b2c055bc8cd4f63ba1a9"><br></p><p data-lake-id="b8bc510fc4dbab070138fcb2dce5d3e2" id="b8bc510fc4dbab070138fcb2dce5d3e2" style="text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fjpeg%2F46456405%2F1661142386792-35604245-e959-4b6a-a982-565dab9b7b31.jpeg%22%2C%22taskId%22%3A%22u0c199054-f375-4969-a805-1f2936d3525%22%2C%22clientId%22%3A%22ud8ceecc4-1134-4%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22%E6%9C%AA%E5%91%BD%E5%90%8D%E7%BB%98%E5%9B%BE-2.jpg%22%2C%22size%22%3A64445%2C%22from%22%3A%22ui%22%2C%22originWidth%22%3A1371%2C%22originHeight%22%3A673%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22PARAMETRS%20CONTROL%20P%20LINEBUFFER%20RGB%20PIXEL%20OUT%20RGB%20PIXEL%20IN%20TRANSIENT%20EDGE%20CORRECTION%20RGBWINDOW%20DETECTION%20DETECTION%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A799.9839%2C%22y%22%3A86.72768%2C%22width%22%3A88.6894400000001%2C%22height%22%3A16.82971599999999%2C%22text%22%3A%22PARAMETRS%22%7D%2C%7B%22x%22%3A745.2226%2C%22y%22%3A87.653206%2C%22width%22%3A66.72569999999996%2C%22height%22%3A16.818054000000004%2C%22text%22%3A%22CONTROL%20P%22%7D%2C%7B%22x%22%3A352.17764%2C%22y%22%3A97.5436%2C%22width%22%3A85.87491%2C%22height%22%3A17.513940000000005%2C%22text%22%3A%22LINEBUFFER%22%7D%2C%7B%22x%22%3A1264.379%2C%22y%22%3A273.3632%2C%22width%22%3A72.21780000000012%2C%22height%22%3A19.030750000000012%2C%22text%22%3A%22RGB%20PIXEL%22%7D%2C%7B%22x%22%3A1285.029%2C%22y%22%3A296.69296%2C%22width%22%3A29.65910000000008%2C%22height%22%3A13.924239999999998%2C%22text%22%3A%22OUT%22%7D%2C%7B%22x%22%3A28.008085%2C%22y%22%3A323.48633%2C%22width%22%3A69.90313499999999%2C%22height%22%3A17.53652999999997%2C%22text%22%3A%22RGB%20PIXEL%22%7D%2C%7B%22x%22%3A52.32835%2C%22y%22%3A346.8042%2C%22width%22%3A16.130349999999993%2C%22height%22%3A12.354129999999998%2C%22text%22%3A%22IN%22%7D%2C%7B%22x%22%3A603.77185%2C%22y%22%3A393.97394%2C%22width%22%3A72.21575000000007%2C%22height%22%3A15.59815999999995%2C%22text%22%3A%22TRANSIENT%22%7D%2C%7B%22x%22%3A817.8048%2C%22y%22%3A401.05377%2C%22width%22%3A42.300700000000006%2C%22height%22%3A15.71726000000001%2C%22text%22%3A%22EDGE%22%7D%2C%7B%22x%22%3A988.36523%2C%22y%22%3A407.92413%2C%22width%22%3A83.62796999999989%2C%22height%22%3A18.26211999999998%2C%22text%22%3A%22CORRECTION%22%7D%2C%7B%22x%22%3A346.40524%2C%22y%22%3A408.90674%2C%22width%22%3A97.23032%2C%22height%22%3A20.20623999999998%2C%22text%22%3A%22RGBWINDOW%22%7D%2C%7B%22x%22%3A602.6675%2C%22y%22%3A414.4384%2C%22width%22%3A76.59244999999999%2C%22height%22%3A15.974299999999971%2C%22text%22%3A%22DETECTION%22%7D%2C%7B%22x%22%3A803.63586%2C%22y%22%3A419.85822%2C%22width%22%3A74.83824000000004%2C%22height%22%3A16.170860000000005%2C%22text%22%3A%22DETECTION%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u1d70f481%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="150e21cb4a1cb92a4f60da16abae2682" id="150e21cb4a1cb92a4f60da16abae2682" style="text-align: center"><span data-lake-id="ube7510d3" id="ube7510d3">Figure 3-1 CAC module</span></p><ul list="u2b5d9ab2"><li fid="u587d40f5" data-lake-id="uafd98200" id="uafd98200" style="text-align: left"><span data-lake-id="ue9c24b5f" id="ue9c24b5f">top register</span></li></ul><table data-lake-id="fGWdw" id="fGWdw" margin="true" class="lake-table" style="width: 671px"><colgroup><col width="118"><col width="106"><col width="106"><col width="341"></colgroup><tbody><tr data-lake-id="ub10b4ed3" id="ub10b4ed3" style="height: 33px"><td data-lake-id="ud37ddf78" id="ud37ddf78"><p data-lake-id="u2ef2bf0a" id="u2ef2bf0a" style="text-align: center"><strong><span data-lake-id="u07239e8e" id="u07239e8e">Name</span></strong></p></td><td data-lake-id="u4f77d1f1" id="u4f77d1f1"><p data-lake-id="u56a07db8" id="u56a07db8" style="text-align: center"><strong><span data-lake-id="ueaf8e9bd" id="ueaf8e9bd">Bits Width</span></strong></p></td><td data-lake-id="uf18385b3" id="uf18385b3"><p data-lake-id="uc54590f0" id="uc54590f0" style="text-align: center"><strong><span data-lake-id="u952201f5" id="u952201f5">Range</span></strong></p></td><td data-lake-id="u02ccf84e" id="u02ccf84e"><p data-lake-id="u85f37571" id="u85f37571" style="text-align: center"><strong><span data-lake-id="u03cd7905" id="u03cd7905">Description</span></strong></p></td></tr><tr data-lake-id="u970f6889" id="u970f6889" style="height: 33px"><td data-lake-id="u9c41a8b3" id="u9c41a8b3"><p data-lake-id="uca9b0f83" id="uca9b0f83"><span data-lake-id="u6339f3c9" id="u6339f3c9">frameWidth</span></p></td><td data-lake-id="u4992204f" id="u4992204f"><p data-lake-id="u9663ecb9" id="u9663ecb9"><span data-lake-id="ucde5d851" id="ucde5d851">13</span></p></td><td data-lake-id="u77711c9e" id="u77711c9e"><p data-lake-id="ue0e79785" id="ue0e79785"><span data-lake-id="ua89befee" id="ua89befee">[0, 8192)</span></p></td><td data-lake-id="u62b1f7e8" id="u62b1f7e8"><p data-lake-id="uc1c91656" id="uc1c91656"><span data-lake-id="uc47f23ba" id="uc47f23ba">the width of image</span></p></td></tr><tr data-lake-id="ufaa378e1" id="ufaa378e1" style="height: 33px"><td data-lake-id="u0cb9f77a" id="u0cb9f77a"><p data-lake-id="ua5ff88b0" id="ua5ff88b0"><span data-lake-id="u69d977df" id="u69d977df">frameHeight</span></p></td><td data-lake-id="uf099ae62" id="uf099ae62"><p data-lake-id="u059f274a" id="u059f274a"><span data-lake-id="u948c3be3" id="u948c3be3">13</span></p></td><td data-lake-id="u5b0abe9e" id="u5b0abe9e"><p data-lake-id="u6538ea89" id="u6538ea89"><span data-lake-id="u2005cead" id="u2005cead">[0, 8192)</span></p></td><td data-lake-id="u88ed2c82" id="u88ed2c82"><p data-lake-id="u6fa8d2a6" id="u6fa8d2a6"><span data-lake-id="uddeef7b6" id="uddeef7b6">the height of image</span></p></td></tr><tr data-lake-id="u604694e2" id="u604694e2" style="height: 33px"><td data-lake-id="uf3e00215" id="uf3e00215" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ua3779055" id="ua3779055"><span data-lake-id="ue3960c62" id="ue3960c62">inputPattern</span></p></td><td data-lake-id="u46420561" id="u46420561" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u9b7e0274" id="u9b7e0274"><span data-lake-id="u94326f33" id="u94326f33">2</span></p></td><td data-lake-id="ub3b6d8d0" id="ub3b6d8d0" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ue36e11d8" id="ue36e11d8"><span data-lake-id="udf8cd72c" id="udf8cd72c">0, 1, 2, 3</span></p></td><td data-lake-id="u952a068f" id="u952a068f" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ud1537737" id="ud1537737"><span data-lake-id="u5d2227f2" id="u5d2227f2">the pattern of bayer, 0:r 1:Gr 2:Gb 3:b</span></p></td></tr><tr data-lake-id="u004b1fb7" id="u004b1fb7" style="height: 33px"><td data-lake-id="ud9ef7f41" id="ud9ef7f41" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u6b643fd0" id="u6b643fd0"><span data-lake-id="ue098960c" id="ue098960c">blc</span></p></td><td data-lake-id="uab624d67" id="uab624d67" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u63f05e76" id="u63f05e76"><span data-lake-id="ucdc394be" id="ucdc394be">9</span></p></td><td data-lake-id="u6ffa8877" id="u6ffa8877" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ufb4f7070" id="ufb4f7070"><span data-lake-id="u64c7e1d0" id="u64c7e1d0">[0, 512)</span></p></td><td data-lake-id="uec16557f" id="uec16557f" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u25bcd6c9" id="u25bcd6c9"><span data-lake-id="ud0d6f0f8" id="ud0d6f0f8">black pixel value</span></p></td></tr><tr data-lake-id="u042db6c6" id="u042db6c6" style="height: 33px"><td data-lake-id="ud1eb2a11" id="ud1eb2a11" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="uc1f78f4c" id="uc1f78f4c"><br></p></td><td data-lake-id="u6bff9a3d" id="u6bff9a3d" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="ua6fe08c7" id="ua6fe08c7" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="ubdb8d1a7" id="ubdb8d1a7" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ue1efef2b" id="ue1efef2b"><br></p></td></tr><tr data-lake-id="u8bb83a49" id="u8bb83a49" style="height: 33px"><td data-lake-id="u5a73c8ea" id="u5a73c8ea" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="u8be06978" id="u8be06978"><br></p></td><td data-lake-id="u9efd27fa" id="u9efd27fa" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="ud27c78ee" id="ud27c78ee" style="background-color: #FFFFFF; vertical-align: top"></td><td data-lake-id="u4015635b" id="u4015635b" style="background-color: #FFFFFF; vertical-align: top"><p data-lake-id="ub1f1f283" id="ub1f1f283"><br></p></td></tr></tbody></table><h3 data-lake-id="qslPf" id="qslPf"><span data-lake-id="uc13f2125" id="uc13f2125">3.1 Start of frame</span></h3><p data-lake-id="788bd1d5527c440e6dae45e446f082bf" id="788bd1d5527c440e6dae45e446f082bf" style="text-align: left"><span data-lake-id="u15b6d463" id="u15b6d463">The CAC module frame starts with just two thresholds t_transient and t_edge loaded, as well as the data input to rgbWindow</span></p><p data-lake-id="565ea154d39f969913fcfb81ac37e007" id="565ea154d39f969913fcfb81ac37e007" style="text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fjpeg%2F46456405%2F1661144235190-cc683745-5bbe-4f10-8c89-e505be34cf1f.jpeg%22%2C%22taskId%22%3A%22u530618fe-b476-45e7-a465-1001370a527%22%2C%22clientId%22%3A%22u755631da-df1e-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A586%2C%22height%22%3A338%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22%E6%9C%AA%E5%91%BD%E5%90%8D%E7%BB%98%E5%9B%BE-2.jpg%22%2C%22size%22%3A35889%2C%22from%22%3A%22ui%22%2C%22originWidth%22%3A722%2C%22originHeight%22%3A417%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22LINE%20BUFFER%20THAY%20RGBWINDOW%20RGB%20PIXEL%20IN%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A540.6075%2C%22y%22%3A156.90523%2C%22width%22%3A88.01010000000008%2C%22height%22%3A17.52684000000002%2C%22text%22%3A%22LINE%20BUFFER%22%7D%2C%7B%22x%22%3A-18.146383%2C%22y%22%3A320.31628%2C%22width%22%3A308.982843%2C%22height%22%3A27.631989999999973%2C%22text%22%3A%22THAY%22%7D%2C%7B%22x%22%3A108.32082%2C%22y%22%3A357.41122%2C%22width%22%3A92.91197%2C%22height%22%3A18.34620000000001%2C%22text%22%3A%22RGBWINDOW%22%7D%2C%7B%22x%22%3A273.68796%2C%22y%22%3A358.61472%2C%22width%22%3A24.418270000000007%2C%22height%22%3A16.41178000000002%2C%22text%22%3A%22RGB%22%7D%2C%7B%22x%22%3A255.49263%2C%22y%22%3A378.70154%2C%22width%22%3A57.73003000000003%2C%22height%22%3A16.510339999999985%2C%22text%22%3A%22PIXEL%20IN%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u9c6ac1a2%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="b0a04b1e4ebcb708dccbbd497f6f0abd" id="b0a04b1e4ebcb708dccbbd497f6f0abd" style="text-align: center"><span data-lake-id="u60189a07" id="u60189a07">Figure 3-2 rgb window schedule</span></p><h3 data-lake-id="1wO0l" id="1wO0l"><span data-lake-id="u0a3f67b5" id="u0a3f67b5">3.2 Pixel Preprocessing</span></h3><h4 data-lake-id="cdEFO" id="cdEFO"><span data-lake-id="u54d3c275" id="u54d3c275">3.2.1 Algorithm</span></h4><p data-lake-id="uab4c256f" id="uab4c256f"><span data-lake-id="u82e9bd59" id="u82e9bd59">algorithm details you can reference the paper [1]. The whole process is divided into horizontal and vertical correction, but this process execute in a 7x7 rgbWindow.</span></p><p data-lake-id="u4578aead" id="u4578aead" style="text-indent: 2em"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fjpeg%2F46456405%2F1661240886340-5cacd59e-8b61-4f86-be32-cfa8783d8f98.jpeg%22%2C%22taskId%22%3A%22u0b5f151d-de6c-4c7a-bb89-78bda9f2fbf%22%2C%22clientId%22%3A%22uc96e3945-3d7c-4%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%223-3-2.jpg%22%2C%22size%22%3A24959%2C%22from%22%3A%22ui%22%2C%22originWidth%22%3A681%2C%22originHeight%22%3A421%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22ocrLocations%22%3A%5B%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u1e4f5ff5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="uf593ed93" id="uf593ed93" style="text-indent: 2em; text-align: center"><span data-lake-id="ue3cb9699" id="ue3cb9699">Figure 3-3 pixel preprocessing </span></p><h4 data-lake-id="cgI8Y" id="cgI8Y"><span data-lake-id="u861f7717" id="u861f7717">3.2.2 Hardware implementation</span></h4><p data-lake-id="uaa8d7005" id="uaa8d7005"><span data-lake-id="u725279fa" id="u725279fa">The whole procedure can be divided into 2 stages.</span></p><p data-lake-id="udc66f481" id="udc66f481"><span data-lake-id="u35a37ebc" id="u35a37ebc">Stage1: load the fourth row pixel into register.</span></p><p data-lake-id="ud7a22dbf" id="ud7a22dbf"><span data-lake-id="u95b7e711" id="u95b7e711">Stage2: load the fourth column pixel into register.</span></p><h3 data-lake-id="McMu7" id="McMu7"><span data-lake-id="uf07a6c08" id="uf07a6c08">3.2 Chromatic difference and edge information calculation</span></h3><h4 data-lake-id="ffiLm" id="ffiLm"><span data-lake-id="u28bc5078" id="u28bc5078">3.2.1 Algorithm</span></h4><p data-lake-id="u87625e4e" id="u87625e4e"><span data-lake-id="ue16af039" id="ue16af039">Calculate the difference and edge information, difference information include the difference between blue channel and green channel and the difference between red channel and green channel. The edge information is calculated by sobel mask</span></p><h4 data-lake-id="ZYLt4" id="ZYLt4"><span data-lake-id="uaeb950c6" id="uaeb950c6">3.2.2 Hardware implementation</span></h4><p data-lake-id="u014cac3a" id="u014cac3a"><span data-lake-id="u111bd34a" id="u111bd34a">The whole procedure can be divided into 2 stages.</span></p><p data-lake-id="u8ecb3508" id="u8ecb3508"><span data-lake-id="uaf1ae36b" id="uaf1ae36b">Stage1: calculate the difference information</span></p><ul list="u713b33eb"><li fid="u630c7caf" data-lake-id="udad0fce6" id="udad0fce6"><span data-lake-id="u1e241c19" id="u1e241c19">rg_diff = inPixel_int.r - inpPixel_int.g</span></li><li fid="u630c7caf" data-lake-id="u104a1d46" id="u104a1d46"><span data-lake-id="u5756dd9a" id="u5756dd9a">bg_diff = inPixel_int.b - inPixel_int.g</span></li></ul><p data-lake-id="u2d77174a" id="u2d77174a"><span data-lake-id="uc0acacac" id="uc0acacac">Stage2: calculate the edge information</span></p><p data-lake-id="u7f5f9530" id="u7f5f9530" style="text-indent: 2em"><span data-lake-id="u4c31a149" id="u4c31a149">C_edge_d = Ec(i,j) = C(i-1,j-1) + 2C(i,j-1) + C(i+1,j-1) - C(i-1,j+1) - 2C(i,j+1) -C(i+1,j+1)    //C is the {R,G,B}, d represent the direction, horizontal or vertical</span></p><h3 data-lake-id="rI5So" id="rI5So"><span data-lake-id="u1b25828a" id="u1b25828a">3.4 Transient region and edges of transient detection</span></h3><h4 data-lake-id="GoEkv" id="GoEkv"><span data-lake-id="u6e5a4e9d" id="u6e5a4e9d">3.4.1 Algorithm</span></h4><p data-lake-id="u9e5c6452" id="u9e5c6452"><span data-lake-id="ue65f1740" id="ue65f1740">This step include two stage. Take the horizontal direction as an example</span></p><p data-lake-id="u948022f6" id="u948022f6"><span data-lake-id="u18711cb6" id="u18711cb6">First of all, the pixel in the image of a green channel gradient judgment, if its gradient is greater than the set threshold t_transient, then the pixel p is considered to be located in a transient.</span></p><p data-lake-id="uccb72dc7" id="uccb72dc7"><span data-lake-id="u0277bee8" id="u0277bee8">The second stage is based on the expansion of the pixel to both ends, Satisfy the following conditions，the pixel i is l_t and r_t</span></p><p data-lake-id="u3dcd3ec5" id="u3dcd3ec5"><span data-lake-id="u84f61e01" id="u84f61e01">(max(sigma_temp * r_edge_h[i], max(sigma_temp * g_edge_h[i], sigma_temp * b_edge_h[i]) &lt; t_edge    //the sigma_temp = 1 or -1, 1, the same direction, -1, the opposite direction</span></p><p data-lake-id="ubad479d4" id="ubad479d4"><span data-lake-id="u028e1426" id="u028e1426">There are two edges, l_t and r_t.</span></p><p data-lake-id="u8e4fef55" id="u8e4fef55" style="text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fjpeg%2F46456405%2F1661241786181-d6a53591-de38-422b-ac25-cc496b900d82.jpeg%22%2C%22taskId%22%3A%22ub01792c1-4371-435e-8493-7647121efad%22%2C%22clientId%22%3A%22ua5d05f40-0329-4%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%223-4-2.jpg%22%2C%22size%22%3A25444%2C%22from%22%3A%22ui%22%2C%22originWidth%22%3A481%2C%22originHeight%22%3A491%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22IF%20ABS(G_EDGE_H)%3ET_TRANSIENT%20STAGE1%20SEARCH%20R%20SEARCH%20I%20STAGE2%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A192.42915%2C%22y%22%3A135.32115%2C%22width%22%3A246.60921000000002%2C%22height%22%3A20.346040000000016%2C%22text%22%3A%22IF%20ABS(G_EDGE_H)%3ET_TRANSIENT%22%7D%2C%7B%22x%22%3A31.5018%2C%22y%22%3A157.93091%2C%22width%22%3A55.1395%2C%22height%22%3A16.42328999999998%2C%22text%22%3A%22STAGE1%22%7D%2C%7B%22x%22%3A255.96922%2C%22y%22%3A332.556%2C%22width%22%3A67.77337999999997%2C%22height%22%3A14.777000000000044%2C%22text%22%3A%22SEARCH%20R%22%7D%2C%7B%22x%22%3A147.02412%2C%22y%22%3A332.75302%2C%22width%22%3A66.64487%2C%22height%22%3A15.202910000000031%2C%22text%22%3A%22SEARCH%20I%22%7D%2C%7B%22x%22%3A30.89076%2C%22y%22%3A436.7711%2C%22width%22%3A57.36198%2C%22height%22%3A17.372799999999984%2C%22text%22%3A%22STAGE2%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22u88e0ab78%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="ud550f1a4" id="ud550f1a4" style="text-align: center"><span data-lake-id="u4bcc57b1" id="u4bcc57b1">Figure 3-4. Transient region and edges of transient detection</span></p><h4 data-lake-id="zugtE" id="zugtE"><span data-lake-id="u1adfc967" id="u1adfc967">3.4.2 Hardware implementation</span></h4><p data-lake-id="u73f2957c" id="u73f2957c"><span data-lake-id="u16a23b8b" id="u16a23b8b">The whole procedure can be divided into 2 stages.</span></p><p data-lake-id="ufc96a77c" id="ufc96a77c"><span data-lake-id="u8cf766e5" id="u8cf766e5">Stage1: get the transient region</span></p><p data-lake-id="u33d78b58" id="u33d78b58" style="text-indent: 2em"><span data-lake-id="u48991656" id="u48991656">if abs(g_edge_h[3]) &gt; t_transient</span></p><p data-lake-id="u22ff9e4b" id="u22ff9e4b" style="text-indent: 2em; padding-left: 2em"><span data-lake-id="u69144235" id="u69144235">execute the stage2</span></p><p data-lake-id="u5ad6595f" id="u5ad6595f" style="padding-left: 2em"><span data-lake-id="u3d21e81c" id="u3d21e81c">else</span></p><p data-lake-id="ua8e09077" id="ua8e09077" style="padding-left: 2em; text-indent: 2em"><span data-lake-id="ub7d7359a" id="ub7d7359a">execute next pixel cycle.</span></p><p data-lake-id="u6189ae12" id="u6189ae12"><span data-lake-id="ucb0a1318" id="ucb0a1318">Stage 2: calculate the l_t and r_t</span></p><p data-lake-id="udd8ce06f" id="udd8ce06f" style="text-indent: 2em"><span data-lake-id="u7e6ef4e8" id="u7e6ef4e8">if g_edge_h[3] &gt; t_transient</span></p><p data-lake-id="u8d17057c" id="u8d17057c" style="text-indent: 2em; padding-left: 2em"><span data-lake-id="u3d55daf7" id="u3d55daf7">search to the left and right, until (Eg &lt; t_edge &amp;&amp; Er &lt; t_edge &amp;&amp; Eb &lt; t_edge)</span></p><p data-lake-id="u446263ab" id="u446263ab" style="text-indent: 2em; padding-left: 4em"><span data-lake-id="uc7520c16" id="uc7520c16">get l_t and r_t</span></p><p data-lake-id="ud83d71af" id="ud83d71af" style="text-indent: 2em; padding-left: 4em"><span data-lake-id="u93cfad5b" id="u93cfad5b">if can not get l_t or r_t, l_t = 0 and r_t = 6</span></p><p data-lake-id="ud703385d" id="ud703385d" style="padding-left: 2em"><span data-lake-id="u5b249c1d" id="u5b249c1d">else if g_edge_h[3] &lt; -t_transient</span></p><p data-lake-id="udab14de1" id="udab14de1" style="text-indent: 2em; padding-left: 2em"><span data-lake-id="u0b4e97f5" id="u0b4e97f5">search to the left and right, until (Eg &gt; -t_edge &amp;&amp; Er &gt; -t_edge &amp;&amp; Eb &gt; -t_edge)</span></p><p data-lake-id="u758187ed" id="u758187ed" style="text-indent: 2em; padding-left: 4em"><span data-lake-id="uf46ca93b" id="uf46ca93b">get l_t and r_t</span></p><p data-lake-id="u9374ce24" id="u9374ce24" style="text-indent: 2em; padding-left: 4em"><span data-lake-id="uebb3dd54" id="uebb3dd54">if can not get l_t or r_t, l_t = 0 and r_t = 6</span></p><p data-lake-id="ua5392e78" id="ua5392e78" style="padding-left: 2em"><span data-lake-id="u7da683ad" id="u7da683ad">else</span></p><p data-lake-id="udaa1fe86" id="udaa1fe86" style="padding-left: 2em; text-indent: 2em"><span data-lake-id="ud1468a16" id="ud1468a16">execute next pixel cycle.</span></p><h3 data-lake-id="PnFig" id="PnFig"><span data-lake-id="u1d60eebd" id="u1d60eebd">3.5 Correction</span></h3><h4 data-lake-id="nGJXo" id="nGJXo"><span data-lake-id="u53db90ac" id="u53db90ac">3.5.1 Algorithm</span></h4><p data-lake-id="uc92f1822" id="uc92f1822"><span data-lake-id="uf48c438f" id="uf48c438f">This step is the pixel correction, which includes all pixel values from l_t to r_t, with l_t and r_t as reference pixels. The main constraint of the correction process is as follows.</span></p><ul list="ucd9e6b5a"><li fid="u2263f94f" data-lake-id="uf5dad01e" id="uf5dad01e"><span data-lake-id="u8e0a70e4" id="u8e0a70e4"> min{rg_diff[l_t], rg_diff[r_t]} &lt;= rg_diff[i] &lt;= max{rg_diff[l_t], rg_diff[r_t]}     //i is the pixel between l_t and r_t</span></li><li fid="u2263f94f" data-lake-id="u9928fa65" id="u9928fa65"><span data-lake-id="ufa98eb64" id="ufa98eb64"> min{bg_diff[l_t], bg_diff[r_t]} &lt;= bg_diff[i] &lt;= max{bg_diff[l_t], bg_diff[r_t]}     //i is the pixel between l_t and r_t</span></li></ul><p data-lake-id="u8193f0b0" id="u8193f0b0"><span data-lake-id="u085f51c3" id="u085f51c3">Figure 3-5 is a correction example, and the l_t = 1, r_t = 4.</span></p><p data-lake-id="u69c8d37d" id="u69c8d37d" style="text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fjpeg%2F46456405%2F1661246848192-2a29e60b-69e6-4aef-9add-f96c11520acb.jpeg%22%2C%22taskId%22%3A%22u07166d92-d66c-4c12-9f62-cf016bcf2b8%22%2C%22clientId%22%3A%22u5c7ea2d0-dadb-4%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%223-5-2.jpg%22%2C%22size%22%3A10948%2C%22from%22%3A%22ui%22%2C%22originWidth%22%3A321%2C%22originHeight%22%3A183%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22LT%20P%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A67.76822%2C%22y%22%3A52.247105%2C%22width%22%3A22.700643999999997%2C%22height%22%3A16.838675000000002%2C%22text%22%3A%22LT%22%7D%2C%7B%22x%22%3A151.41487%2C%22y%22%3A55.11079%2C%22width%22%3A14.631409999999988%2C%22height%22%3A17.088649999999994%2C%22text%22%3A%22P%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22uf990f1f0%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="ude18b248" id="ude18b248" style="text-align: center"><span data-lake-id="u4ae168c7" id="u4ae168c7">Figure 3-5. correction example</span></p><p data-lake-id="u98379e5b" id="u98379e5b" style="text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fpng%2F46456405%2F1661226241620-94f3cd6a-2282-4364-933f-0aee3197d6af.png%22%2C%22taskId%22%3A%22u84814f9e-225f-4de5-9783-113adc53dc3%22%2C%22clientId%22%3A%22u512ed034-666a-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A645%2C%22height%22%3A264%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A454290%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1378%2C%22originHeight%22%3A564%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22INTENSITY%20LEVEL%20250%20200%20150%20100%20RED%2050%20GREEN%20BLUE%201020%2070%2050%2080%2090%20Z(P)%20PIXEL%20LOCATION%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A722.2124%2C%22y%22%3A18.185095%2C%22width%22%3A127.66045999999994%2C%22height%22%3A17.847779999999997%2C%22text%22%3A%22INTENSITY%20LEVEL%22%7D%2C%7B%22x%22%3A716.79877%2C%22y%22%3A47.105663%2C%22width%22%3A34.91467%2C%22height%22%3A19.948607000000003%2C%22text%22%3A%22250%22%7D%2C%7B%22x%22%3A716.3608%2C%22y%22%3A133.67575%2C%22width%22%3A35.44189999999992%2C%22height%22%3A21.43971000000002%2C%22text%22%3A%22200%22%7D%2C%7B%22x%22%3A717.44336%2C%22y%22%3A221.77191%2C%22width%22%3A34.20294000000001%2C%22height%22%3A21.755480000000006%2C%22text%22%3A%22150%22%7D%2C%7B%22x%22%3A718.6407%2C%22y%22%3A311.04358%2C%22width%22%3A32.90575000000001%2C%22height%22%3A19.79885999999999%2C%22text%22%3A%22100%22%7D%2C%7B%22x%22%3A1252.0632%2C%22y%22%3A381.65936%2C%22width%22%3A28.677799999999934%2C%22height%22%3A16.906440000000032%2C%22text%22%3A%22RED%22%7D%2C%7B%22x%22%3A726.8498%2C%22y%22%3A396.96936%2C%22width%22%3A21.901050000000055%2C%22height%22%3A21.266689999999983%2C%22text%22%3A%2250%22%7D%2C%7B%22x%22%3A1254.8778%2C%22y%22%3A409.61853%2C%22width%22%3A43.52800000000002%2C%22height%22%3A13.304769999999962%2C%22text%22%3A%22GREEN%22%7D%2C%7B%22x%22%3A1254.7465%2C%22y%22%3A433.22128%2C%22width%22%3A33.34140000000002%2C%22height%22%3A14.367920000000026%2C%22text%22%3A%22BLUE%22%7D%2C%7B%22x%22%3A737.74274%2C%22y%22%3A496.92337%2C%22width%22%3A108.13945999999999%2C%22height%22%3A26.113230000000044%2C%22text%22%3A%221020%22%7D%2C%7B%22x%22%3A1172.6008%2C%22y%22%3A499.06055%2C%22width%22%3A26.037000000000035%2C%22height%22%3A22.950550000000078%2C%22text%22%3A%2270%22%7D%2C%7B%22x%22%3A1029.9457%2C%22y%22%3A501.2826%2C%22width%22%3A23.97919999999999%2C%22height%22%3A18.901539999999954%2C%22text%22%3A%2250%22%7D%2C%7B%22x%22%3A1246.242%2C%22y%22%3A501.38373%2C%22width%22%3A24.345299999999952%2C%22height%22%3A19.339899999999943%2C%22text%22%3A%2280%22%7D%2C%7B%22x%22%3A1321.4529%2C%22y%22%3A502.09735%2C%22width%22%3A21.641900000000078%2C%22height%22%3A18.526250000000005%2C%22text%22%3A%2290%22%7D%2C%7B%22x%22%3A1002.22955%2C%22y%22%3A530.3169%2C%22width%22%3A39.867950000000064%2C%22height%22%3A23.196039999999925%2C%22text%22%3A%22Z(P)%22%7D%2C%7B%22x%22%3A1236.0399%2C%22y%22%3A530.67365%2C%22width%22%3A136.64930000000004%2C%22height%22%3A22.45751000000007%2C%22text%22%3A%22PIXEL%20LOCATION%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22s0XHE%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u1e2d5ac4" id="u1e2d5ac4" style="text-align: center"><span data-lake-id="u9f0f38fa" id="u9f0f38fa">   </span><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fpng%2F46456405%2F1661226265615-ff12a0fa-0619-4268-894e-a0e628c00ad4.png%22%2C%22taskId%22%3A%22uec98d307-5eb5-44b2-9141-2a13ee83f88%22%2C%22clientId%22%3A%22u512ed034-666a-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A638%2C%22height%22%3A256%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A372240%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1350%2C%22originHeight%22%3A542%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22INTENSITY%20LEVEL%20250%20200%20150%20100%20RED%2050%20GREEN%20BLUE%20102030%2040%2050%2070%2080%2090%20PIXELLOCATION%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A694.2828%2C%22y%22%3A4.9363484%2C%22width%22%3A128.09135000000003%2C%22height%22%3A18.8456436%2C%22text%22%3A%22INTENSITY%20LEVEL%22%7D%2C%7B%22x%22%3A687.32806%2C%22y%22%3A36.23558%2C%22width%22%3A31.814699999999903%2C%22height%22%3A20.693528%2C%22text%22%3A%22250%22%7D%2C%7B%22x%22%3A687.92456%2C%22y%22%3A124.47358%2C%22width%22%3A32.81786999999997%2C%22height%22%3A19.075459999999993%2C%22text%22%3A%22200%22%7D%2C%7B%22x%22%3A687.775%2C%22y%22%3A211.13553%2C%22width%22%3A31.487600000000043%2C%22height%22%3A19.619439999999997%2C%22text%22%3A%22150%22%7D%2C%7B%22x%22%3A688.207%2C%22y%22%3A299.5778%2C%22width%22%3A35.54183999999998%2C%22height%22%3A20.35924%2C%22text%22%3A%22100%22%7D%2C%7B%22x%22%3A1216.8573%2C%22y%22%3A371.2159%2C%22width%22%3A28.800300000000107%2C%22height%22%3A14.716470000000015%2C%22text%22%3A%22RED%22%7D%2C%7B%22x%22%3A695.433%2C%22y%22%3A386.45502%2C%22width%22%3A24.878199999999993%2C%22height%22%3A21.61000999999999%2C%22text%22%3A%2250%22%7D%2C%7B%22x%22%3A1218.4691%2C%22y%22%3A397.0149%2C%22width%22%3A45.6703%2C%22height%22%3A15.654870000000017%2C%22text%22%3A%22GREEN%22%7D%2C%7B%22x%22%3A1218.2256%2C%22y%22%3A419.89536%2C%22width%22%3A36.24790000000007%2C%22height%22%3A17.518520000000024%2C%22text%22%3A%22BLUE%22%7D%2C%7B%22x%22%3A707.0019%2C%22y%22%3A482.96606%2C%22width%22%3A175.54034000000001%2C%22height%22%3A27.41816%2C%22text%22%3A%22102030%22%7D%2C%7B%22x%22%3A925.4475%2C%22y%22%3A487.61728%2C%22width%22%3A245.8502000000001%2C%22height%22%3A22.632450000000006%2C%22text%22%3A%2240%2050%2070%22%7D%2C%7B%22x%22%3A1214.9508%2C%22y%22%3A489.14886%2C%22width%22%3A23.951699999999846%2C%22height%22%3A19.47778999999997%2C%22text%22%3A%2280%22%7D%2C%7B%22x%22%3A1276.9952%2C%22y%22%3A489.60733%2C%22width%22%3A35.05959999999982%2C%22height%22%3A19.39462000000003%2C%22text%22%3A%2290%22%7D%2C%7B%22x%22%3A1207.043%2C%22y%22%3A512.63367%2C%22width%22%3A136.4502%2C%22height%22%3A23.788689999999974%2C%22text%22%3A%22PIXELLOCATION%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22Brpod%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u07d85040" id="u07d85040" style="text-align: center"><span data-lake-id="u1ba4a4b2" id="u1ba4a4b2">Figure3-6. correction effect and rgb intensity[1]</span></p><h4 data-lake-id="KJFYs" id="KJFYs"><span data-lake-id="uefd53868" id="uefd53868">3.5.2 Hardware implementation</span></h4><p data-lake-id="u40c4ba51" id="u40c4ba51"><span data-lake-id="ueb6b6a5e" id="ueb6b6a5e">The whole procedure can be divided into 2 stages.</span></p><p data-lake-id="u0d742dda" id="u0d742dda"><span data-lake-id="uf8d463df" id="uf8d463df">Stage1: Determine if the pixel in the transient area needs to be corrected</span></p><p data-lake-id="ue9454c04" id="ue9454c04" style="text-indent: 2em"><span data-lake-id="ud8fb824f" id="ud8fb824f">select pixel with l_t to r_t</span></p><p data-lake-id="ua3f5ce03" id="ua3f5ce03" style="text-indent: 2em; padding-left: 2em"><span data-lake-id="u19879fd3" id="u19879fd3">if (bg_diff(pixel) &gt; max(bg_diff(l_t), bg_diff(r_t))</span></p><p data-lake-id="ua67a2146" id="ua67a2146" style="text-indent: 2em; padding-left: 4em"><span data-lake-id="ub0ab1332" id="ub0ab1332">or bg_diff(pixel) &lt; min(bg_diff(l_t), bg_diff(r_t))</span></p><p data-lake-id="u8fe6b59b" id="u8fe6b59b" style="text-indent: 2em; padding-left: 4em"><span data-lake-id="uc8897911" id="uc8897911">or rg_diff(pixel) &gt; max(rg_diff(l_t), rg_diff(r_t))</span></p><p data-lake-id="uf36d327c" id="uf36d327c" style="text-indent: 2em; padding-left: 4em"><span data-lake-id="u2ed80523" id="u2ed80523">or rg_diff(pixel) &lt; min(rg_diff(l_t), rg_diff(r_t)))</span></p><p data-lake-id="u6a8afae2" id="u6a8afae2" style="text-indent: 2em; padding-left: 4em"><span data-lake-id="ubf53a18b" id="ubf53a18b">execute stage2</span></p><p data-lake-id="ueda7d086" id="ueda7d086" style="padding-left: 4em"><span data-lake-id="ua25e542b" id="ua25e542b">else</span></p><p data-lake-id="udd3cf13e" id="udd3cf13e" style="padding-left: 4em; text-indent: 2em"><span data-lake-id="u4075dd35" id="u4075dd35">execute next pixel cycle.</span></p><p data-lake-id="u4e3a39cd" id="u4e3a39cd" style="text-align: left"><span data-lake-id="ua1f6aa7b" id="ua1f6aa7b">stage2: calculate correct values, correction effect and rgb intensity are shown as figure 3-6.</span></p><p data-lake-id="u2eb8712e" id="u2eb8712e" style="text-indent: 2em"><span data-lake-id="ud2417952" id="ud2417952">if (bg_diff(pixel) &gt; max(bg_diff(l_t), bg_diff(r_t)))</span></p><p data-lake-id="uc8d5e64b" id="uc8d5e64b" style="padding-left: 2em; text-indent: 2em"><span data-lake-id="ub248087e" id="ub248087e">output_pixel = inPixel_int.g + max(bg_diff(l_t), bg_diff(r_t))</span></p><p data-lake-id="u5a232bef" id="u5a232bef" style="text-indent: 2em"><span data-lake-id="u4218741b" id="u4218741b">else if (bg_diff(pixel) &lt; min(bg_diff(l_t), bg_diff(r_t)))</span></p><p data-lake-id="u10f475b4" id="u10f475b4" style="padding-left: 2em; text-indent: 2em"><span data-lake-id="uf7046824" id="uf7046824">output_pixel = inPixel_int.g + min(bg_diff(l_t), bg_diff(r_t))</span></p><p data-lake-id="u99cb0b4f" id="u99cb0b4f" style="text-indent: 2em"><span data-lake-id="u4a1ed614" id="u4a1ed614">if (rg_diff(pixel) &gt; max(rg_diff(l_t), rg_diff(r_t)))</span></p><p data-lake-id="ude3d3b3a" id="ude3d3b3a" style="padding-left: 2em; text-indent: 2em"><span data-lake-id="uf9cbd508" id="uf9cbd508">output_pixel = inPixel_int.g + max(rg_diff(l_t), rg_diff(r_t))</span></p><p data-lake-id="ub0bda25a" id="ub0bda25a" style="text-indent: 2em"><span data-lake-id="u0c3f0233" id="u0c3f0233">else if (rg_diff(pixel) &lt; min(rg_diff(l_t), rg_diff(r_t)))</span></p><p data-lake-id="ua3f2e0c9" id="ua3f2e0c9" style="padding-left: 2em; text-indent: 2em"><span data-lake-id="u2f7e9607" id="u2f7e9607">output_pixel = inPixel_int.g + min(rg_diff(l_t), rg_diff(r_t))</span></p><h3 data-lake-id="XHw7Z" id="XHw7Z"><span data-lake-id="uabdc4e2d" id="uabdc4e2d">3.6 Write back</span></h3><h4 data-lake-id="g8F0w" id="g8F0w"><span data-lake-id="uf85efb86" id="uf85efb86">3.6.1 Algorithm</span></h4><p data-lake-id="ue2deb871" id="ue2deb871"><span data-lake-id="ub6cb3a60" id="ub6cb3a60">Since a single cycle currently outputs one pixel, the additional pixel values need to be written back to the rgbWindow as well as the line buffer. as shown in Fingure 3-7</span></p><p data-lake-id="u30036686" id="u30036686" style="text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fjpeg%2F46456405%2F1661245984001-cb3c234f-f3af-4c68-aa01-c3df97127c69.jpeg%22%2C%22taskId%22%3A%22u8c5acde6-77f0-4ada-bc93-6a6ee251f0b%22%2C%22clientId%22%3A%22uab826cce-4a2c-4%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%223-7.jpg%22%2C%22size%22%3A60917%2C%22from%22%3A%22ui%22%2C%22originWidth%22%3A987%2C%22originHeight%22%3A790%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22ROW%20WRITE%20BACK%20DST_T%20ROW%20PROCESSING%20LINE%20BUFFER%20COL%20WRITE%20PROCESSING%20BACK%20COL%20WRITE%20BACK%20LINE%20BUFFER%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A583.12604%2C%22y%22%3A84.06587%2C%22width%22%3A118.20056%2C%22height%22%3A16.708765%2C%22text%22%3A%22ROW%20WRITE%20BACK%22%7D%2C%7B%22x%22%3A516.05194%2C%22y%22%3A158.50513%2C%22width%22%3A40.007060000000024%2C%22height%22%3A15.130030000000005%2C%22text%22%3A%22DST_T%22%7D%2C%7B%22x%22%3A841.26263%2C%22y%22%3A230.97978%2C%22width%22%3A30.910570000000007%2C%22height%22%3A14.670269999999988%2C%22text%22%3A%22ROW%22%7D%2C%7B%22x%22%3A810.5614%2C%22y%22%3A250.39696%2C%22width%22%3A92.36410000000001%2C%22height%22%3A19.38548%2C%22text%22%3A%22PROCESSING%22%7D%2C%7B%22x%22%3A140.09134%2C%22y%22%3A413.83154%2C%22width%22%3A31.60243%2C%22height%22%3A15.190799999999967%2C%22text%22%3A%22LINE%22%7D%2C%7B%22x%22%3A133.23314%2C%22y%22%3A435.012%2C%22width%22%3A47.19920000000002%2C%22height%22%3A15.436939999999993%2C%22text%22%3A%22BUFFER%22%7D%2C%7B%22x%22%3A671.67676%2C%22y%22%3A451.27924%2C%22width%22%3A23.791340000000105%2C%22height%22%3A13.457060000000013%2C%22text%22%3A%22COL%22%7D%2C%7B%22x%22%3A136.64235%2C%22y%22%3A456.8412%2C%22width%22%3A40.470320000000015%2C%22height%22%3A14.661299999999983%2C%22text%22%3A%22WRITE%22%7D%2C%7B%22x%22%3A640.5909%2C%22y%22%3A471.60193%2C%22width%22%3A90.58615999999995%2C%22height%22%3A18.466250000000002%2C%22text%22%3A%22PROCESSING%22%7D%2C%7B%22x%22%3A136.49025%2C%22y%22%3A477.2276%2C%22width%22%3A40.56190000000001%2C%22height%22%3A15.007999999999981%2C%22text%22%3A%22BACK%22%7D%2C%7B%22x%22%3A275.87704%2C%22y%22%3A505.05682%2C%22width%22%3A113.09341999999998%2C%22height%22%3A16.30914999999993%2C%22text%22%3A%22COL%20WRITE%20BACK%22%7D%2C%7B%22x%22%3A356.43073%2C%22y%22%3A660.74146%2C%22width%22%3A120.84647000000001%2C%22height%22%3A24.18524000000002%2C%22text%22%3A%22LINE%20BUFFER%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22uf32bae07%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="uab041def" id="uab041def" style="text-align: center"><span data-lake-id="ud75a37ba" id="ud75a37ba">Figure 3-7 pixel write back</span></p><h4 data-lake-id="K8ug1" id="K8ug1"><span data-lake-id="u6406c99b" id="u6406c99b">3.6.2 Hardware implementation</span></h4><p data-lake-id="u1a1dd9fc" id="u1a1dd9fc"><span data-lake-id="uc8f20234" id="uc8f20234">The whole procedure can be divided into 3 stages.</span></p><p data-lake-id="u9a3cddf7" id="u9a3cddf7"><span data-lake-id="u4cc9a886" id="u4cc9a886">Stage1: row write back and  col write back.</span></p><p data-lake-id="ud4b7852f" id="ud4b7852f" style="text-indent: 2em"><span data-lake-id="u52ec21fb" id="u52ec21fb">write back horizontal pixels to the corresponding rgbWindow position,write back vertical pixels to the corresponding rgbWindow position</span></p><p data-lake-id="8b1bef2f5279fd84c2997ed681f2b15b" id="8b1bef2f5279fd84c2997ed681f2b15b"><span data-lake-id="u4b53c395" id="u4b53c395">Stage2: output pixel rgbWindow(1,3)</span></p><p data-lake-id="u2ada79ee" id="u2ada79ee"><span data-lake-id="u70125abe" id="u70125abe">Stage3: write back the first column pixels to the first column of line buffer. </span></p><h2 data-lake-id="TQQ1A" id="TQQ1A"><span data-lake-id="u95bea029" id="u95bea029">4. Testing and Verification</span></h2><h3 data-lake-id="tyuQB" id="tyuQB"><span data-lake-id="u102312d8" id="u102312d8">4.1 hardware function test</span></h3><ul list="ud8694d6d"><li fid="u7f9a29c0" data-lake-id="ua6415e2b" id="ua6415e2b"><span data-lake-id="u009cb620" id="u009cb620">run c model and open the DUMP_FIGURE in common/top.h</span></li><li fid="u7f9a29c0" data-lake-id="ucee8dc4a" id="ucee8dc4a"><span data-lake-id="uebd2e1b9" id="uebd2e1b9">copy the ouput figure to the path hardware/tv/</span></li><li fid="u7f9a29c0" data-lake-id="ue787eddd" id="ue787eddd"><span data-lake-id="u839b1cfe" id="u839b1cfe">cd tcl/</span></li><li fid="u7f9a29c0" data-lake-id="ue7f4e8b3" id="ue7f4e8b3"><span data-lake-id="u5f52e1e7" id="u5f52e1e7">make cac</span></li><li fid="u7f9a29c0" data-lake-id="u81061c64" id="u81061c64"><span data-lake-id="u6a6ade2c" id="u6a6ade2c">if no pixel mismatch, the test pass</span></li></ul><p data-lake-id="uc27cae89" id="uc27cae89" style="text-align: center"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fintranetproxy.alipay.com%2Fskylark%2Flark%2F0%2F2022%2Fjpeg%2F46456405%2F1661405277738-d874e7e6-5018-4e44-9b5d-f3a28e2f5f0d.jpeg%22%2C%22taskId%22%3A%22u70b56b4e-6cf5-4c3d-8b4a-afd87e6f8f7%22%2C%22clientId%22%3A%22u08ad1e8b-2c43-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A291%2C%22height%22%3A129%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%2220220825132722.jpg%22%2C%22size%22%3A16932%2C%22from%22%3A%22ui%22%2C%22originWidth%22%3A336%2C%22originHeight%22%3A149%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22TEST%20FOR%20ISP%20CAC%20MODULE!%20INIT%20DONE!%20ENVIRONMENT%20SET%20UP!%20EXECUTION%20COMPLETED!%20307200%20TEST%20PASSED!%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A11.609416%2C%22y%22%3A1.0178146%2C%22width%22%3A313.815234%2C%22height%22%3A20.6698284%2C%22text%22%3A%22TEST%20FOR%20ISP%20CAC%20MODULE!%22%7D%2C%7B%22x%22%3A11.558806%2C%22y%22%3A26.265574%2C%22width%22%3A131.007614%2C%22height%22%3A19.856659999999998%2C%22text%22%3A%22INIT%20DONE!%22%7D%2C%7B%22x%22%3A12.007283%2C%22y%22%3A50.961033%2C%22width%22%3A249.35736699999998%2C%22height%22%3A22.298356999999996%2C%22text%22%3A%22ENVIRONMENT%20SET%20UP!%22%7D%2C%7B%22x%22%3A11.804067%2C%22y%22%3A75.55114%2C%22width%22%3A264.760413%2C%22height%22%3A26.336624%2C%22text%22%3A%22EXECUTION%20COMPLETED!%22%7D%2C%7B%22x%22%3A12.938659%2C%22y%22%3A102.70215%2C%22width%22%3A77.386281%2C%22height%22%3A18.561359999999993%2C%22text%22%3A%22307200%22%7D%2C%7B%22x%22%3A10.762988%2C%22y%22%3A127.995514%2C%22width%22%3A54.905477%2C%22height%22%3A17.848816000000014%2C%22text%22%3A%22TEST%22%7D%2C%7B%22x%22%3A76.5354%2C%22y%22%3A127.63041%2C%22width%22%3A90.12372%2C%22height%22%3A21.383950000000013%2C%22text%22%3A%22PASSED!%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22ucffeb916%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="uf7bde3a1" id="uf7bde3a1" style="text-align: center"><span data-lake-id="ub25a3929" id="ub25a3929">Figure 4-1.  test result</span></p><h3 data-lake-id="YQtZA" id="YQtZA"><span data-lake-id="u5b2f0d29" id="u5b2f0d29">4.2 HLS synthesis results</span></h3><h4 data-lake-id="gTANQ" id="gTANQ"><span data-lake-id="u54fac2de" id="u54fac2de">4.2.1 synthesis</span></h4><p data-lake-id="u03e3698e" id="u03e3698e" style="text-indent: 2em; text-align: left"><span data-lake-id="ub81e5c3d" id="ub81e5c3d">when you run the hardware function test, if you open the vivado_hls in hardware/src/top.h, you can get a report in the path hardware/tcl/cac/cac/syn/report/cac_csynth.rpt</span></p><h4 data-lake-id="fgyhk" id="fgyhk"><span data-lake-id="u85e92317" id="u85e92317">4.2.1 systhesis results</span></h4><table data-lake-id="vN16X" id="vN16X" margin="true" class="lake-table" style="width: 600px"><colgroup><col width="100"><col width="100"><col width="100"><col width="100"><col width="100"><col width="100"></colgroup><tbody><tr data-lake-id="u6ec4f6a2" id="u6ec4f6a2" style="height: 33px"><td data-lake-id="u20993f63" id="u20993f63"><p data-lake-id="u55ebea1f" id="u55ebea1f" style="text-align: center"><strong><span data-lake-id="u55d3785d" id="u55d3785d">frequency</span></strong></p></td><td data-lake-id="ue6fe01ef" id="ue6fe01ef"><p data-lake-id="u82b664d4" id="u82b664d4" style="text-align: center"><strong><span data-lake-id="u7a208b1a" id="u7a208b1a">BRAM_18k</span></strong></p></td><td data-lake-id="ua018c6e8" id="ua018c6e8"><p data-lake-id="u9ecc6fc2" id="u9ecc6fc2" style="text-align: center"><strong><span data-lake-id="ud97eaee6" id="ud97eaee6">DSP48E</span></strong></p></td><td data-lake-id="u06e989d3" id="u06e989d3"><p data-lake-id="u81d5e0e7" id="u81d5e0e7" style="text-align: center"><strong><span data-lake-id="u852f5d12" id="u852f5d12">FF</span></strong></p></td><td data-lake-id="u732c4bd0" id="u732c4bd0"><p data-lake-id="u0b655aed" id="u0b655aed" style="text-align: center"><strong><span data-lake-id="uf795bb0d" id="uf795bb0d">LUT</span></strong></p></td><td data-lake-id="u56273d96" id="u56273d96"><p data-lake-id="ud4a466f5" id="ud4a466f5" style="text-align: center"><strong><span data-lake-id="u72c56a35" id="u72c56a35">URAM</span></strong></p></td></tr><tr data-lake-id="u6a2577bc" id="u6a2577bc" style="height: 33px"><td data-lake-id="u2d0fa336" id="u2d0fa336"><p data-lake-id="ud8442a8c" id="ud8442a8c"><span data-lake-id="u72c0bd75" id="u72c0bd75">50Mhz</span></p></td><td data-lake-id="uac65352d" id="uac65352d"><p data-lake-id="uf00d23b3" id="uf00d23b3"><span data-lake-id="u044ce6f8" id="u044ce6f8">118</span></p></td><td data-lake-id="u12d2482e" id="u12d2482e"><p data-lake-id="u16a203bd" id="u16a203bd"><span data-lake-id="ud43e0415" id="ud43e0415">0</span></p></td><td data-lake-id="u4de6eaec" id="u4de6eaec"><p data-lake-id="u647f73f4" id="u647f73f4"><span data-lake-id="u33f0538a" id="u33f0538a">4803</span></p></td><td data-lake-id="ubce297e0" id="ubce297e0"><p data-lake-id="udfceacfc" id="udfceacfc"><span data-lake-id="u896c218a" id="u896c218a">9904</span></p></td><td data-lake-id="u4705acf2" id="u4705acf2"><p data-lake-id="u449f8e4e" id="u449f8e4e"><span data-lake-id="u38a7a846" id="u38a7a846">0</span></p></td></tr></tbody></table><h2 data-lake-id="4Z1A6" id="4Z1A6"><span data-lake-id="ucb80e7c2" id="ucb80e7c2">5. Reference</span></h2><p data-lake-id="cd7ba4463c8f8651a3963c274774aca6" id="cd7ba4463c8f8651a3963c274774aca6"><span data-lake-id="u612c2547" id="u612c2547">[1] Chung S W ,  Kim B K ,  Song W J . Removing chromatic aberration by digital image processing[J]. Optical Engineering, 2010, 49.</span></p><p data-lake-id="u8e33d8f9" id="u8e33d8f9"><span data-lake-id="uabd7dec0" id="uabd7dec0">[2] Chang J ,  Kang H ,  Kang M G . Correction of Axial and Lateral Chromatic Aberration With False Color Filtering[J]. IEEE Transactions on Image Processing A Publication of the IEEE Signal Processing Society, 2013, 22(3):1186-1198.</span></p><p data-lake-id="50541c3d7d0ebba51507d6d8ee74c042" id="50541c3d7d0ebba51507d6d8ee74c042"><br></p><p data-lake-id="f3a940f425713a0d072d23aec56cc6bf" id="f3a940f425713a0d072d23aec56cc6bf"><br></p><p data-lake-id="bc57dd0605e320a4cfc3541d4d2ab819" id="bc57dd0605e320a4cfc3541d4d2ab819"><br></p><p data-lake-id="bf478d9e79a51ead41e6c766be8ac8b2" id="bf478d9e79a51ead41e6c766be8ac8b2"><br></p><p data-lake-id="ec7bd115fe6643b7d9d86620f8d87fc6" id="ec7bd115fe6643b7d9d86620f8d87fc6"><br></p><card type="block" name="hr" value="data:%7B%22id%22%3A%22lbSIH%22%7D"></card>